<!DOCTYPE html>
<html>
    <head>
        <!-- 헤더 (link,style) -->
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Orbit&display=swap" rel="stylesheet">
<style>
    /* 전체 설정 */
    * {
        font-size: 1.2rem;
    }
    body {
        overflow-x: hidden;
    }
    hr {
        opacity: initial;
    }
    p {
        margin-bottom: 0;
    }
    /* 블로그 화면 중앙에 표시 */
    .blog-contents-center {
        width: 1000px;
        margin: 0 auto;
        height: 100%;
        position: relative;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        .blog-contents-center {
            width: 100vw;
        }
    }
    /* 상단바 설정 */
    #container_topbar {
        position: fixed;
        top: 0;
        width: 100vw;
        height: 3rem;
        background-color: #FFFFFF;
        box-shadow: 0px 1px 20px 1px rgba(0,0,0,0.25);
        z-index: 100;
    }
    /* 하단 컨텐츠 설정 */
    #container_contents {
        width: 100vw;
        min-height: calc(100vh - 3rem);
    }
    #container_contents::before {
        content: "";
        width: 100%;
        height: 100%;
        position: fixed;
        background-image: url("/assets/img/background.jpg");
        background-size: 100vw;
        filter: grayscale(0.6) opacity(0.6);
    }
    /* 리스트 설정 */
    #container_list {
        padding-left: 0;
        padding-right: 1rem;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_list {
            padding-left: 1rem;
            padding-right: 1rem;
        }
    }
    #list {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
        border-radius: .25rem;
    }
    #list img {
        display: none;
    }
    /* 포스트 설정 */
    #container_post {
        padding-left: 0;
        padding-right: 1rem;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_post {
            padding-left: 1rem;
            padding-right: 1rem;
        }
    }
    #post {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
        border-radius: .25rem;
    }
    /* 사이드바 설정 */
    #container_sidebar {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
        height: fit-content;
        border-radius: .25rem;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_sidebar {
            position: fixed;
            z-index: 200;
            top: 0;
            height: 100%;
            margin: 0!important;
            transition: transform 0.2s ease-in-out;
            transform: translateX(100%);
        }
        .sidebar-open {
            transform: translateX(0%)!important;
        }
    }
    /* 리스트에서 사용할 스타일 */
    .category-name {
        font-size: 1.4rem;
        font-family: 'Orbit', sans-serif;
        font-weight: bold;
        color: #FF9AAF;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .category-list-size {
        font-family: 'Orbit', sans-serif;
        color: #BBB;
        font-size: 0.8rem;
        justify-self: end;
        align-self: end;
    }
    .post-list-item:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .post-list-no-item {
        font-size: 1rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #666;
        text-align: center;
    }
    .post-list-border {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .post-list-subject {
        font-size: 1rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #666;
        overflow: hidden;
        max-height: 3em;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }
    .post-list-excerpt {
        font-size: 0.8rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #BBB;
        overflow: hidden;
        line-height: 1.25;
        max-height: 3.6em;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }
    .post-list-excerpt * {
        font-size: 0.8rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #BBB;
        overflow: hidden;
        line-height: 1.25;
        max-height: 3.6em;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }
    .post-list-footer {
        line-height: 0.8;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .post-list-footer * {
        font-size: 0.6rem;
        font-family: 'Orbit', sans-serif;
        line-height: 1;
    }
    .post-list-category {
        color: #FF6F8D;
    }
    .post-list-uploadtime {
        justify-self: flex-end;
    }
    /* 페이지 버튼에서 사용할 스타일 */
    .page-container {
        text-align: center;
    }
    .page-container .page-button {
        border: 0;
        background-color: white;
        font-size: 1rem;
        color: black;
    }
    .page-container .page-button i {
        font-size: 0.7rem;
    }
    .page-container .page-button.curpage {
        color: #FF6F8D;
        cursor: default;
    }
    .page-container .page-button.disabled {
        color: #BBB;
        cursor: default;
    }
    /* 포스트에서 사용할 스타일 */
    #post .post-d-none {
        display: none;
    }
    #post * {
        word-break: break-all;
    }
    .post-subject {
        font-size: 1.2rem;
        font-family: 'Orbit', sans-serif;
        font-weight: bold;
        color: #FF9AAF;
    }
    .post-border {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .post-subtitle {
        line-height: 0.8;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .post-subtitle * {
        font-size: 0.7rem;
        font-family: 'Orbit', sans-serif;
        line-height: 1;
    }
    .post-category {
        color: #FF6F8D;
    }
    .post-uploadtime {
        justify-self: flex-end;
    }
    .post-contents {
        font-family: 'Gowun Dodum', sans-serif;
    }
    .post-contents * {
        font-size: 0.9rem;
    }
    .post-contents img {
        max-width: 100%;
    }
    /* 포스트 게시글 내 문서 스타일 */
    .post-chapter {
        background-color: #FF9AAF;
        font-size: 1rem;
        font-weight: bold;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
    }
    .post-chapter-collapse {
        width: 100%;
        border: 0;  
    }
    .post-chapter-collapse:hover {
        background-color: #FF6F8D;
        cursor: pointer;
        color: white;
    }
    .post-chapter-collapse i{
        transition: transform 0.2s ease-in-out;
        transform: rotate(0deg);
    }
    .post-chapter-collapse.collapsed i{
        transform: rotate(180deg);
    }
    .post-code {
        font-family: 'Orbit', sans-serif;
        color: black;
        background-color: #F3F3F3;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        overflow-x: auto;
    }
    .post-overegg {
        font-size: 0.7rem;
        color: #AAA;
    }
    .post-table {
        width: 100%;
    }
    .post-table * {
        border: 1px solid #aaa;
        padding: 0px 0.25rem;
    }
    /* 사이드바 프로필에서 사용할 스타일 */
    #sidebar_profile {
        overflow-x: hidden;
    }
    #sidebar_profile:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .sidebar-profile-logo {
        border: 1px solid #AAA;
        padding: 4px 0px;
    }
    .sidebar-profile-item {
        font-family: 'Orbit', sans-serif;
        font-size: 0.7rem;
        white-space: nowrap;
    }
    .sidebar-profile-icon {
        min-width: 10px;
        display: inline-block;
        text-align: center;
        line-height: 0.6;
    }
    .sidebar-profile-icon i {
        color: #FF6F8D;
        font-size: 0.7rem;
    }
    /* 사이드바 카테고리에서 사용할 스타일 */
    .sidebar-category-border-bold {
        border: 1px dashed #000;
        margin: 0.25rem 0rem;
    }
    .sidebar-category-border-light {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .sidebar-category-item {
        font-family: 'Gowun Dodum', sans-serif;
        font-size: 1rem;
        color: #666;
        line-height: 1.9;
        padding-left: 0.5rem;
    }
    .sidebar-category-item:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .sidebar-category-size {
        font-family: 'Orbit', sans-serif;
        font-size: 0.7rem;
        color: #FF6F8D;
    }
    .sidebar-category-icon {
        min-width: 10px;
        display: inline-block;
        text-align: center;
        line-height: 0.6;
    }
    .sidebar-category-icon i {
        color: #FF6F8D;
        position: relative;
        top: -4px;
        font-size: 0.5rem;
    }
</style>
<link rel="shortcut icon" href="/assets/img/favicon.svg"/>

<title>Lizzy on Python</title>

    </head>
    <body>
        <div>
            <!-- 상단바 -->
            <div id="container_topbar">
    <div class="blog-contents-center px-3 py-2" style="display: grid; grid-template-columns: 1fr 1fr;">
        <!-- 블로그 로고 -->
        <span>
            <img src="/assets/logo/logo_dark.png" onclick="location.href = '/';" style="height: 42px; position: relative; bottom: 2px; left: -14px; cursor: pointer; filter: opacity(0.9);"/>
        </span>
        <!-- PC버전 -->
        <span class="container_search d-none d-lg-block" style="justify-self: flex-end;">
            <!--i class="fa-solid fa-magnifying-glass align-middle"></i-->
        </span>
        <!-- 모바일 사이드바 오픈 아이콘 -->
        <span id="btn_sidebar_open" class="d-block d-lg-none" style="justify-self: flex-end;">
            <i class="fa-solid fa-bars align-middle"></i>
        </span>
    </div>
</div>
            <!-- 컨텐츠 -->
            <div id="container_contents">
                <div class="blog-contents-center" style="padding-top: 3rem;">
                    <div class="row m-0">
                        <!-- 리스트 -->
                        <div id="container_list" class="col-12 col-lg-9 my-3">
                            <div id="list" class="px-3 py-2">

    <!-- 포스트 카테고리명 -->
    <div class="category-name">
        All
        <span class="category-list-size">총 21건</span>
    </div>
    <hr class="post-list-border">
    <!-- 포스트 리스트 -->
    
    <div class="post-list-item px-2" onclick="location.href = '/security/20240930/security_00001';">
        <div class="post-list-subject">x86-64 Assembly</div>
        <div class="post-list-excerpt mt-1">취미삼아 보안 공부를 다시 시작했는데,<br />
이번 시즌에는 전보다 더 발전된 무언가를 꼭 이뤄냈으면 좋겠다.( ⁎ ᵕᴗᵕ ⁎ )<br />
<br />
<div class="post-chapter">0. 개요</div>
<br />
어셈블리 언어의 기본 개념과 x86-64 ISA의 어셈블리 언어에 대해 정리했다.<br />
<br />
<div class="post-chapter">1. 개요</div>
<br />
<ul>
  <li>어셈블리 언어는 기계어와 1:1 대응이 되는 저수준 언어이다.<br /></li>
  <li>사용자가 기계어를 쉽게 읽을수 있게 하기 위해 만들어졌다.<br /></li>
  <li>레지스터나 메모리에 직접 접근하기 쉽다.<br /></li>
  <li>CPU의 명령어 집합(ISA)에 따라 여러 종류가 존재한다: (IA-32, x86-64, ARM, MIPS)<br /></li>
  <li>CPU 성능이 낮을수록, RAM이 작을수록, 컴파일러보다 인간이 더 최적화를 잘 할수록 유리하다.<br />
<br /></li>
</ul>
<div class="post-chapter">2. 개요</div>
<br />
<ul>
  <li>2020년 기준 절반 이상의 CPU가 x86-64 아키텍처를 채택하고 있다.</li>
  <li>두가지 문법을 가지고 있다: Intel, AT&amp;T</li>
  <li>Intel 문법은 주로 Windows에서, AT&amp;T문법은 주로 Unix에서 사용된다.</li>
</ul>
<table style="min-width: 443px;" class="post-table">
    <tbody>
        <tr>
            <th></th>
            <th>Intel</th>
            <th>AT&amp;T</th>
        </tr>
        <tr>
            <td>피연산자 순서</td>
            <td>instr dest, src <br />(dest를 좌측, src를 우측에 표기)</td>
            <td>instr src, dest <br />(src를 좌측, dest를 우측에 표기)</td>
        </tr>
        <tr>
            <td>접두사</td>
            <td>instr reg, 1 <br />(자동으로 파라미터 타입 파악) </td>
            <td>instr $1, %reg <br />(값은 $, 레지스터는 %를 앞에 표시)</td>
        </tr>
        <tr>
            <td>피연산자 크기</td>
            <td>instr reg, 1234 <br />(레지스터를 통해 자동으로 결정)</td>
            <td>instrl $1234, %reg <br />(명령어에 크기를 나타내는 접미사 표시)</td>
        </tr>
        <tr>
            <td>메모리 주소 표기</td>
            <td>instr reg1, [reg2+3] <br />([]로 구분)</td>
            <td>instr 3(%reg2), %reg1 </td>
        </tr>
    </tbody>
</table>
<br />
<div class="post-chapter">3. x86-64 어셈블리 명령어</div>
<br />
<table style="min-width: 75px;" class="post-table">
    <tbody>
        <tr>
            <th>명령어</th>
            <th>의미</th>
            <th>Intel</th>
        </tr>
        <tr>
            <td>mov</td>
            <td>src에 들어있는 값을 dest에 대입</td>
            <td>mov dest, src</td>
        </tr>
        <tr>
            <td>lea</td>
            <td>src에 들어있는 값(주소)을 dest에 대입<br />(*mov와 다르게 lea는 주소에 대한 연산이 가능)</td>
            <td>lea dest, src</td>
        </tr>
        <tr>
            <td>add</td>
            <td>dest에 src의 값을 더함</td>
            <td>add dest, 3</td>
        </tr>
        <tr>
            <td>sub</td>
            <td>dest에 src의 값을 뺌</td>
            <td>sub dest, 3</td>
        </tr>
        <tr>
            <td>inc</td>
            <td>dest의 값을 1 증가시킴</td>
            <td>inc dest</td>
        </tr>
        <tr>
            <td>dec</td>
            <td>dest의 값을 1 감소시킴</td>
            <td>dec dest</td>
        </tr>
        <tr>
            <td>and</td>
            <td>dest와 src의 각 비트를 AND 연산해서 dest에 저장</td>
            <td>and dest, src</td>
        </tr>
        <tr>
            <td>or</td>
            <td>dest와 src의 각 비트를 OR 연산해서 dest에 저장</td>
            <td>or dest, src</td>
        </tr>
        <tr>
            <td>xor</td>
            <td>dest와 src의 각 비트를 XOR 연산해서 dest에 저장</td>
            <td>xor dest, src</td>
        </tr>
        <tr>
            <td>not</td>
            <td>dest의 각 비트를 반전</td>
            <td>not dest</td>
        </tr>
        <tr>
            <td>cmp</td>
            <td>dest와 src를 비교하고 플래그를 설정, 결과값 대입안함<br />(*dest와 src 비교에 주로 사용)</td>
            <td>cmp dest, src</td>
        </tr>
        <tr>
            <td>test</td>
            <td>dest와 src를 AND연산하고 플래그를 설정, 결과값 대입안함<br />(*dest와 src가 0인지 확인하는데 주로 사용)</td>
            <td>test dest, src</td>
        </tr>
        <tr>
            <td>jmp</td>
            <td>dest를 rip에 대입 <br />(*즉 addr의 명령어를 실행)</td>
            <td>jmp dest</td>
        </tr>
        <tr>
            <td>je</td>
            <td>직전에 비교한 두 피연산자가 같으면 점프 <br />(*jump if equal)</td>
            <td>cmp dest, src; <br />je addr; <br />// if dest == src , <br />// jump to addr</td>
        </tr>
        <tr>
            <td>jg</td>
            <td>직전에 비교한 두 연산자 중 전자가 더 크면 점프 <br />(*jump if greater)</td>
            <td>cmp dest, src; <br />jg addr; <br />// if dest &gt; src , <br />// jump to addr</td>
        </tr>
    </tbody>
</table>
*AT&amp;T 문법의 경우는 dest - src 위치 변경
<br />
<div class="post-chapter">출처</div>
<br />
<span class="post-overegg" style="color: blue; border: 0;">
    https://ko.wikipedia.org/wiki/%EC%96%B4%EC%85%88%EB%B8%94%EB%A6%AC%EC%96%B4
</span><br />
<span class="post-overegg" style="color: blue; border: 0;">
    https://namu.wiki/w/%EC%96%B4%EC%85%88%EB%B8%94%EB%A6%AC%EC%96%B4
</span><br />
<span class="post-overegg" style="color: blue; border: 0;">
    https://namu.wiki/w/x86/%EB%AA%85%EB%A0%B9%EC%96%B4%20%EB%AA%A9%EB%A1%9D
</span><br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">security</span>
            <span class="post-list-uploadtime">2024-09-30 09:27</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/react/20240712/react_00001';">
        <div class="post-list-subject">React.js 클래스vs함수 그리고 hook</div>
        <div class="post-list-excerpt mt-1">지금으로부터 딱 5년전에 리액트를 사용했었다.<br />
그렇게 깊게+오래 사용한게 아니라서 큰 추억은 없고 약간의 “이거 좋네..”라는 느낌만 남았다.<br />
이제는 업무용으로 쓰고 있는데, 5년 전과 비교하면 지금은 엄청나게 매끄럽게 쓰고있는 중이다.<br />
<br />
그런데 문법이 꽤 다른 것 같다. 예전엔 분명 class 어쩌고.. render.. 같은게 있었는데<br />
지금은 function부터 시작하잖아..? (゜▽゜;)<br />
<br />
<div class="post-chapter">1. 클래스형과 함수형 코드 비교</div>
<br />
다음 내용은 class형으로 작성된 컴포넌트이다. (공식 가이드 참고)
<div class="post-code" style="font-size: 0.8rem;">
class Test extends React.Component {<br />
&nbsp;&nbsp;state = {name: "react"}<br />
&nbsp;&nbsp;onBtnClick = () =&gt; { console.log("button clicked"); };<br />
&nbsp;&nbsp;render() {<br />
&nbsp;&nbsp;&nbsp;&nbsp;return (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;button onClick={this.onBtnClick}&gt;{this.state.name}&lt;/button&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;);<br />
&nbsp;&nbsp;}<br />
}<br />
</div>
<br />
<br />
위 내용을 함수형으로 바꿔보면 다음과 같이 쓸 수 있다.
<div class="post-code" style="font-size: 0.8rem;">
function Test(){<br />
&nbsp;&nbsp;const [name, setName] = useState("react")<br />
&nbsp;&nbsp;const onBtnClick = () =&gt; { console.log("button clicked") }<br />
&nbsp;&nbsp;return (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;button onClick={onBtnClick}&gt;{name}&lt;/button&gt;<br />
&nbsp;&nbsp;)<br />
}<br />
</div>
<br />
<br />
<div class="post-chapter">2. 공통점: 그래도 배치는 비슷하다</div>
<br />
코드 모양만 보면 거의 비슷하다는 느낌이 든다.<br />
클래스형의 경우 무조건 “class”이고 “component”를 extends 해야하고 render도 있어야하지만<br />
그걸 제외하고 전체적인 모양만 보면<br />
<br />
<img src="/assets/img/react_00001_001.png" style="width: 40rem;" /><br />
state를 정의하는 부분, 사용할 메소드를 정의하는 부분, 결과를 그려내는 부분으로 나눠지고<br />
<br />
약간의 코드 길이의 차이를 제외하면<br /> 
정의한다-&gt;가져온다-&gt;집어넣는다 라는 행위는<br />
크게 달라짐이 없어 보인다.<br />
<br />
<div class="post-chapter">3. 차이점: 생명주기 관리가 심플해졌다</div>
<br />
props의 사용법도 차이점이 있으나,<br />
부모에서 자식으로 값을 넘긴다 / props로 접근한다 라는 큰 틀은<br />
같다고 생각해서 제외했다.<br />
<br />
개발 시 가장 큰 차이점은 생명주기 관리의 차이점인 것 같다.<br />
<br />
기존 클래스형에서는 mount / update / unmount 로 상태변경을 관리했는데<br />
함수형에서는 Hook 으로 일종의 병합이 되어버려서 <br />
(개인적으로는) 기존의 생명주기보다 더 까다로운 접근법을 가지게 되었다는 생각이 든다.<br />
<br />
나는 내가 만드는 대부분의 프로그램이 “처음 로딩될 때” 그리고 “조작했을 때 일부” 변경되기를 바라는데,<br />
Hook은 “날 쳐다봤어? 난 트리거될거야..” 이런 느낌으로 처리가 되어버려서<br />
적응하는데에 시간이 조금 더 필요할 것 같다.<br />
<br />
<div class="post-chapter">4. 근데 결국 함수형으로 가는 수밖에 없다</div>
<br />
그런데 어쩔수없이 함수형으로 가는 수밖에 없을 것 같다.<br />
유용한 대부분의 라이브러리가 Hook을 쓰고 있다고 하니, Hook을 쓰지 않는<br />
class형 컴포넌트로는 대응이 쉽지가 않다고 한다. ⁎′̥̥̥ ㅅ ‵̥̥̥<br />
<br />
리액트 팀은 선택권을 주고싶었겠지만 현실은 늘 차갑다…….
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">react</span>
            <span class="post-list-uploadtime">2024-07-12 13:17</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/blog/20240514/blog_00004';">
        <div class="post-list-subject">2024-05-14 블로그 스킨 변경하기</div>
        <div class="post-list-excerpt mt-1"><img src="/assets/img/blog_00004_001.png" style="width: 40rem;" /><br />
블로그를 보다보니 왠지 너무 심플한 것 같은 느낌이 든다..<br />
조금 바꿔보기로 했다.<br />
<br />
<img src="/assets/img/blog_00004_002.png" style="width: 40rem;" /><br />
뒷배경에 저작권 프리 이미지를 집어넣고, 포스트와 사이드바의 테두리를 .25rem으로 깎았다.<br />
뒷 배경 전체에 opacity를 적용하면 포스트까지 전부 투명해지기 때문에<br />
배경에 추가 요소(::before)를 다음과 같이 달았다.<br />
<br />
<div class="post-code">
#container_contents::before {<br />
&nbsp;&nbsp;content: "";<br />
&nbsp;&nbsp;width: 100%;<br />
&nbsp;&nbsp;height: 100%;<br />
&nbsp;&nbsp;position: fixed;<br />
&nbsp;&nbsp;background-image: url("/assets/img/background.jpg");<br />
&nbsp;&nbsp;background-size: 100vw;<br />
&nbsp;&nbsp;filter: grayscale(0.6) opacity(0.6);<br />
}<br />
</div>
너무 사진이 눈에 띄지 않도록 grayscale과 opacity를 적용했다.
원래 이미지가 6000*4000사이즈라서 너비를 어떻게 할지 고민하다가 <br />
어디에서 봐도 꽉 차는 모습으로 보였으면 해서 뷰포트 너비(vw) 100%로 잡았다. <br />
<br />
모바일로 보면 꽃이 좀 자잘해보이긴 하지만..<br />
외곽에만 표시되기 때문에 그렇게 나쁘지 않아보인다.<br />
<br />
<img src="/assets/img/blog_00004_003.png" style="width: 40rem;" /><br />
색상이 너무 분홍색인것 같아서 테마 색상도 조금 변경하기로 했다.<br />
처음 개발할때부터 색상 변경을 염두에 두고 개발했기 때문에 <br />
색상은 _config.yml에 변수로 저장되어있다.<br />
<br />
시스템의 어느 부분이 절대 변경되지 않는지/언젠가 변경할 예정인지 <br />
미리 어느정도 파악하고 작업하는게 역시 중요한 것 같다.<br />
<br />
<img src="/assets/img/blog_00004_004.png" style="width: 40rem;" /><br />
색상 조정은 위와 같이 마무리 하고, 시간 나면 로고도 변경해야겠다.<br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">blog</span>
            <span class="post-list-uploadtime">2024-05-14 16:57</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/nectarist/20240514/nectarist_00010';">
        <div class="post-list-subject">Project Nectarist [10] view의 분리</div>
        <div class="post-list-excerpt mt-1">어떻게 하면 더 좋은 Django 프로젝트를 구성할 수 있을까?<br />
Django의 구조인 MTV를 하나씩 다시 확인하며 고민해봤다.<br />
<br />
<div class="post-chapter">1. Django의 MTV 돌아보기</div>
<br />
<br />
<img src="/assets/img/nectarist_00010_001.png" style="width: 40rem;" /><br />
우선 Nectarist의 models.py를 확인해보니<br />
DB 테이블과 연동이 되어있어서 잘못 수정하면 다시 migrate가 필요할 것 같다.<br />
현재 복잡한 구조가 아니라서 당장 추가적인 수정이 필요하지는 않아보인다.<br />
<br />
<img src="/assets/img/nectarist_00010_002.png" style="width: 40rem;" /><br />
다음은 urls.py를 확인했다.<br />
단순히 페이지 내용을 요청하는 URI가 있고, ajax등으로 데이터를 요청하는 URI가 있다.<br />
용도가 두가지로 정리가 되니, 좀더 내용을 보기쉽게 수정할 필요를 느꼈다.<br />
<br />
<img src="/assets/img/nectarist_00010_003.png" style="width: 40rem;" /><br />
views도 마찬가지로 단순히 페이지 내용을 요청하는 기능과<br />
데이터를 주고받는 기능이 있으니 나누어 정리하는게 더 보기 좋을 것 같다.<br />
<br />
<div class="post-chapter">2. urls 정리</div>
<br />
<br />
<img src="/assets/img/nectarist_00010_004.png" style="width: 40rem;" /><br />
주석으로 페이지 요청하는 URI / 데이터 요청하는 URI를 나누고,<br />
각 내용 위에 상세 메뉴와 기능을 추가하니 가독성이 조금 더 괜찮아졌다.<br />
<br />
<div class="post-chapter">3. view 정리</div>
<br />
<br />
view도 페이지/데이터의 두 종류로 분리할 수 있겠지만, <br />
각 내용이 너무 길어서 아예 파일을 분리하기로 했다.<br />
<br />
일단 views.py를 삭제하고 views 디렉토리를 만든 다음<br />
main_views.py / func_views.py / page_views.py 를 안에 생성했다.<br />
<br />
<img src="/assets/img/nectarist_00010_006.png" style="width: 40rem;" /><br />
공통적으로 들어가는 부분은 views/main_views.py에 집어넣고<br />
func_views.py와 page_views.py에서 main_views.py를 불러오도록 처리했다.<br />
<br />
urls.py 등에서 view를 import 하는 부분은 기존의 views.py에서 views/func_views.py등으로 변경했다.<br />
<br />
<img src="/assets/img/nectarist_00010_007.png" style="width: 40rem;" /><br />
내용은 메뉴와 기능에 따라 주석을 추가했다.<br />
이제 views 파일이 용도별로 분리되었으니 수정 및 가독성이 좀 괜찮아진 느낌이 든다.<br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">nectarist</span>
            <span class="post-list-uploadtime">2024-05-14 14:41</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/nectarist/20240411/nectarist_00009';">
        <div class="post-list-subject">Project Nectarist [09] 메일발송 기능 추가</div>
        <div class="post-list-excerpt mt-1">비밀번호 변경시 임시 비밀번호를 메일로 보내주는 기능을 추가했다.<br />
(작은 프로젝트다보니 별도로 app을 분리하진 않고 작업했다)<br />
<br />
예전에는 linux의 sendmail만 사용해 봤는데,<br />
Django에 자체적으로 smtp가 있어서 해당 기능을 이용했다.<br />
<br />
따로 인증된 메일서버가 없는 상황이다보니 개인 Gmail을 이용했다.<br />
<br />
<div class="post-chapter">1. 구글 앱 비밀번호 생성</div>
<br />
<br />
먼저 gmail 접근을 위해 앱 비밀번호를 생성했다.<br />
앱 비밀번호 생성 과정은 다음과 같다.<br />
<br />
<img src="/assets/img/nectarist_00009_001.png" style="width: 40rem;" /><br />
<br />
❗비밀번호는 생성했을때만 확인할 수 있으니 재빠르게 캡쳐해야 한다<br />
<span class="post-overegg" style="color: blue; border: 0;">
    출처: https://support.google.com/accounts/answer/185833?hl=ko
</span><br />
<br />
<div class="post-chapter">2. django 세팅</div>
<br />
이메일과 관련된 부분을 settings.py에 다음과 같이 추가하고<br />
<br />
settings.py<br />
<img src="/assets/img/nectarist_00009_002.png" style="width: 40rem;" /><br />
<br />
template에 메일로 보낼 내용을 간단하게 작성했다.<br />
<br />
templates/pw_email.html<br />
<div class="post-code">

Nectarist 임시 비밀번호 안내 이메일입니다.<br />
회원님의 임시 비밀번호는 {{ new_temp_pass }}입니다.<br />
로그인 후 비밀번호 변경 바랍니다.

</div>
<br />
위에 작성한 메일 템플릿을 실제 send_mail에서는
<img src="/assets/img/nectarist_00009_003.png" style="width: 40rem;" /><br />
템플릿 내부에 변수로 작성되어있던 new_temp_pass를 render_to_string에서 집어넣고,<br />
send_mail에 들어가는 변수를 위와 같이 적용했다.<br />
<br />
(* 실제 메일이 발송되기 때문에.. 수신자는 내 이메일로 고정했다)<br />
<span class="post-overegg" style="color: blue; border: 0;">
    참고: https://stackoverflow.com/questions/67083938/django-html-email-gmail-not-rendering
</span><br />
<br />
<div class="post-chapter">3. 발송하기</div>
<br />
<img src="/assets/img/nectarist_00009_004.png" style="width: 40rem;" /><br />
위와 같이 아이디/이메일을 입력하면 <br />
<br />
<img src="/assets/img/nectarist_00009_005.png" style="width: 40rem;" /><br />
임시 비밀번호가 (내 이메일로) 발송된다.<br />
성공!<br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">nectarist</span>
            <span class="post-list-uploadtime">2024-04-11 16:41</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <!-- 페이징 디자인 -->
    <div class="my-3">
        
        <div class="page-container">
            <!-- 이전 -->
            
            <button class="page-button disabled">
                <i class="fa fa-chevron-left"></i>
            </button>
            
            <!-- 페이지 -->
            
                
                <button class="page-button curpage">1</button>
                
            
                
                <button class="page-button" onclick="location.href = '/posts/page/2';">2</button>
                
            
                
                <button class="page-button" onclick="location.href = '/posts/page/3';">3</button>
                
            
                
                <button class="page-button" onclick="location.href = '/posts/page/4';">4</button>
                
            
                
                <button class="page-button" onclick="location.href = '/posts/page/5';">5</button>
                
            
            <!-- 다음 -->
            
            <button class="page-button" onclick="location.href = '/posts/page/2';">
                <i class="fa fa-chevron-right"></i>
            </button>
            
        </div>
        
    </div>
</div>
                        </div>
                        <!-- 사이드바 -->
                        <div id="container_sidebar" class="col-12 col-lg-3 my-3 py-3">
    <!-- 모바일 사이드바 클로즈 아이콘 -->
    <div id="btn_sidebar_close" class="d-block d-lg-none">
        <i class="fa-solid fa-arrow-right align-middle"></i>
    </div>
    <!-- 로고와 프로필 -->
    <div id="sidebar_profile" class="mt-2 p-2" onclick="location.href = '/category/about';">
        <div class="sidebar-profile-logo text-center" style="background-color: white;">
            <img src="/assets/img/full_logo.jpg" style="width: 3rem;"/>
        </div>
        <div class="mt-2">
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-user"></i></span>
                Lizzy Lee (이지연)
            </div>
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-envelope"></i></span>
                leezy.lee.dev@gmail.com
            </div>
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-comment"></i></span>
                스프링 고수가 될 거야 _〆(´Д⊂
            </div>
        </div>
    </div>
    <!-- 카테고리 리스트 -->
    <div class="mt-2">
        <hr class="sidebar-category-border-bold">
        <div class="sidebar-category-item" data-category="all" style="color: black!important;">
            <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
            ALL
            <span class="sidebar-category-size">( 21 )</span>
        </div>
        <hr class="sidebar-category-border-bold">
        <!-- 카테고리 : 블로그 -->
            <div class="sidebar-category-item" data-category="blog">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                BLOG
                <span class="sidebar-category-size">
                    
                    ( 4 )
                    
                </span>
            </div>
        <!-- 카테고리 : 스터디 -->
            <div class="sidebar-category-item" data-category="project" style="pointer-events: none;">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                STUDY
            </div>
        <!-- 카테고리 : 시큐리티(서브) -->
            <div class="sidebar-category-item" data-category="security">
                &nbsp;&nbsp;
                <span class="sidebar-category-icon"><i class="fa fa-chevron-right"></i></span>
                Security
                <span class="sidebar-category-size">
                    
                    ( 1 )
                    
                </span>
            </div>
        <!-- 카테고리 : 알고리즘(서브) -->
            <div class="sidebar-category-item" data-category="algorithm">
                &nbsp;&nbsp;
                <span class="sidebar-category-icon"><i class="fa fa-chevron-right"></i></span>
                Algorithm
                <span class="sidebar-category-size">
                    
                    ( 2 )
                    
                </span>
            </div>
        <!-- 카테고리 : 파이선(서브) -->
            <div class="sidebar-category-item" data-category="python">
                &nbsp;&nbsp;
                <span class="sidebar-category-icon"><i class="fa fa-chevron-right"></i></span>
                Python
                <span class="sidebar-category-size">
                    
                    ( 3 )
                    
                </span>
            </div>
        <!-- 카테고리 : 자바(서브) -->
            <div class="sidebar-category-item" data-category="java">
                &nbsp;&nbsp;
                <span class="sidebar-category-icon"><i class="fa fa-chevron-right"></i></span>
                Java
                <span class="sidebar-category-size">
                    
                    ( 0 )
                    
                </span>
            </div>
        <!-- 카테고리 : 리액트(서브) -->
            <div class="sidebar-category-item" data-category="react">
                &nbsp;&nbsp;
                <span class="sidebar-category-icon"><i class="fa fa-chevron-right"></i></span>
                React.js
                <span class="sidebar-category-size">
                    
                    ( 1 )
                    
                </span>
            </div>
        <!-- 카테고리 : 프로젝트 -->
            <div class="sidebar-category-item" data-category="project" style="pointer-events: none;">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                PROJECT
            </div>
        <!-- 카테고리 : 넥타리스트(서브) -->
            <div class="sidebar-category-item" data-category="nectarist">
                &nbsp;&nbsp;
                <span class="sidebar-category-icon"><i class="fa fa-chevron-right"></i></span>
                Nectarist
                <span class="sidebar-category-size">
                    
                    ( 10 )
                    
                </span>
            </div>
        <!-- 카테고리 : 코예(서브) -->
            <div class="sidebar-category-item" data-category="comaid">
                &nbsp;&nbsp;
                <span class="sidebar-category-icon"><i class="fa fa-chevron-right"></i></span>
                CoMaid
                <span class="sidebar-category-size">
                    
                    ( 0 )
                    
                </span>
            </div>
        <!-- -->
        <hr class="sidebar-category-border-bold">
    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <foot>
        <!-- 푸터 (script) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/a5bdb78e74.js" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-latest.min.js" crossorigin="anonymous"></script>
<script>
    /* 사이드바 토글 */
    $("#btn_sidebar_open").click(function () {
        $("#container_sidebar").addClass("sidebar-open");
        // popstate 이벤트용 더미 스테이트
        console.log("pushstate");
        history.pushState(null, null, null);
    });
    $("#btn_sidebar_close").click(function () {
        // popstate 이벤트를 통해 닫기
        history.back();
    });
    /* 모바일 뒤로가기 이벤트시 사이드바 우선 닫기 */
    $(window).on("popstate", function(e) {
        console.log("popstate");
        if($("#container_sidebar").hasClass("sidebar-open")){
            $("#container_sidebar").removeClass("sidebar-open");
        }
    });
    /* 카테고리 */
    $("#container_sidebar .sidebar-category-item").click(function () {
        var category = $(this).attr("data-category");
        switch(category){
            case "all":
                location.href = "/";
                break;
            case "project":
                break;
            default:
                location.href = "/category/" + category + ".html";
                break;
        }
    });
</script>
    </foot>
</html>