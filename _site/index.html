<!DOCTYPE html>
<html>
    <head>
        <!-- 헤더 (link,style) -->
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Orbit&display=swap" rel="stylesheet">
<style>
    /* 전체 설정 */
    * {
        font-size: 1.2rem;
    }
    body {
        overflow-x: hidden;
    }
    hr {
        opacity: initial;
    }
    p {
        margin-bottom: 0;
    }
    /* 블로그 화면 중앙에 표시 */
    .blog-contents-center {
        width: 1000px;
        margin: 0 auto;
        height: 100%;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        .blog-contents-center {
            width: 100vw;
        }
    }
    /* 상단바 설정 */
    #container_topbar {
        position: fixed;
        top: 0;
        width: 100vw;
        height: 3rem;
        background-color: #FFFFFF;
        box-shadow: 0px 1px 20px 1px rgba(0,0,0,0.25);
        z-index: 100;
    }
    /* 하단 컨텐츠 설정 */
    #container_contents {
        margin-top: 3rem;
        width: 100vw;
        min-height: calc(100vh - 3rem);
    }
    /* 리스트 설정 */
    #container_list {
        padding-left: 0;
        padding-right: 1rem;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_list {
            padding-left: 1rem;
            padding-right: 1rem;
        }
    }
    #list {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
    }
    #list img {
        display: none;
    }
    /* 포스트 설정 */
    #container_post {
        padding-left: 0;
        padding-right: 1rem;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_post {
            padding-left: 1rem;
            padding-right: 1rem;
        }
    }
    #post {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
    }
    /* 사이드바 설정 */
    #container_sidebar {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
        height: fit-content;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_sidebar {
            position: fixed;
            z-index: 200;
            top: 0;
            height: 100%;
            margin: 0!important;
            transition: transform 0.2s ease-in-out;
            transform: translateX(100%);
        }
        .sidebar-open {
            transform: translateX(0%)!important;
        }
    }
    /* 리스트에서 사용할 스타일 */
    .category-name {
        font-size: 1.4rem;
        font-family: 'Orbit', sans-serif;
        font-weight: bold;
        color: #FFA8DB;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .category-list-size {
        font-family: 'Orbit', sans-serif;
        color: #BBB;
        font-size: 0.8rem;
        justify-self: end;
        align-self: end;
    }
    .post-list-item:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .post-list-no-item {
        font-size: 1rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #666;
        text-align: center;
    }
    .post-list-border {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .post-list-subject {
        font-size: 1rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #666;
        overflow: hidden;
        max-height: 3em;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }
    .post-list-excerpt {
        font-size: 0.8rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #BBB;
        overflow: hidden;
        line-height: 1.25;
        max-height: 3.6em;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }
    .post-list-excerpt * {
        font-size: 0.8rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #BBB;
        overflow: hidden;
        line-height: 1.25;
        max-height: 3.6em;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }
    .post-list-footer {
        line-height: 0.8;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .post-list-footer * {
        font-size: 0.6rem;
        font-family: 'Orbit', sans-serif;
        line-height: 1;
    }
    .post-list-category {
        color: #FF6FC4;
    }
    .post-list-uploadtime {
        justify-self: flex-end;
    }
    /* 포스트에서 사용할 스타일 */
    #post .post-d-none {
        display: none;
    }
    #post * {
        word-break: break-all;
    }
    .post-subject {
        font-size: 1.2rem;
        font-family: 'Orbit', sans-serif;
        font-weight: bold;
        color: #FFA8DB;
    }
    .post-border {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .post-subtitle {
        line-height: 0.8;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .post-subtitle * {
        font-size: 0.7rem;
        font-family: 'Orbit', sans-serif;
        line-height: 1;
    }
    .post-category {
        color: #FF6FC4;
    }
    .post-uploadtime {
        justify-self: flex-end;
    }
    .post-contents {
        font-family: 'Gowun Dodum', sans-serif;
    }
    .post-contents * {
        font-size: 0.9rem;
    }
    .post-contents img {
        max-width: 100%;
    }
    /* 포스트 게시글 내 문서 스타일 */
    .post-chapter {
        background-color: #FFA8DB;
        font-size: 1rem;
        font-weight: bold;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
    }
    .post-chapter-collapse {
        width: 100%;
        border: 0;  
    }
    .post-chapter-collapse:hover {
        background-color: #FF6FC4;
        cursor: pointer;
        color: white;
    }
    .post-chapter-collapse i{
        transition: transform 0.2s ease-in-out;
        transform: rotate(0deg);
    }
    .post-chapter-collapse.collapsed i{
        transform: rotate(180deg);
    }
    .post-code {
        font-family: 'Orbit', sans-serif;
        color: black;
        background-color: #F3F3F3;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        overflow-x: auto;
    }
    .post-overegg {
        font-size: 0.7rem;
        color: #AAA;
    }
    .post-table {
        width: 100%;
    }
    .post-table * {
        border: 1px solid #aaa;
        padding: 0px 0.25rem;
    }
    /* 사이드바 프로필에서 사용할 스타일 */
    #sidebar_profile {
        overflow-x: hidden;
    }
    #sidebar_profile:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .sidebar-profile-logo {
        border: 1px solid #AAA;
        padding: 4px 0px;
    }
    .sidebar-profile-item {
        font-family: 'Orbit', sans-serif;
        font-size: 0.7rem;
        white-space: nowrap;
    }
    .sidebar-profile-icon {
        min-width: 10px;
        display: inline-block;
        text-align: center;
        line-height: 0.6;
    }
    .sidebar-profile-icon i {
        color: #FF6FC4;
        font-size: 0.3rem;
    }
    /* 사이드바 카테고리에서 사용할 스타일 */
    .sidebar-category-border-bold {
        border: 1px dashed #000;
        margin: 0.25rem 0rem;
    }
    .sidebar-category-border-light {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .sidebar-category-item {
        font-family: 'Gowun Dodum', sans-serif;
        font-size: 1rem;
        color: #666;
        line-height: 1.9;
        padding-left: 0.5rem;
    }
    .sidebar-category-item:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .sidebar-category-size {
        font-family: 'Orbit', sans-serif;
        font-size: 0.7rem;
        color: #FF6FC4;
    }
    .sidebar-category-icon {
        min-width: 10px;
        display: inline-block;
        text-align: center;
        line-height: 0.6;
    }
    .sidebar-category-icon i {
        color: #FF6FC4;
        font-size: 0.3rem;
    }
</style>
<link rel="shortcut icon" href="/assets/img/favicon.svg"/>

<title>Lizzy on Python</title>

    </head>
    <body>
        <div>
            <!-- 상단바 -->
            <div id="container_topbar">
    <div class="blog-contents-center px-3 py-2" style="display: grid; grid-template-columns: 1fr 1fr;">
        <!-- 블로그 로고 -->
        <span>
            <img src="/assets/img/full_logo_invert.jpg" onclick="location.href = '/';" style="height: 42px; position: relative; bottom: 2px; cursor: pointer;"/>
        </span>
        <!-- PC버전 -->
        <span class="container_search d-none d-lg-block" style="justify-self: flex-end;">
            <i class="fa-solid fa-magnifying-glass align-middle"></i>
        </span>
        <!-- 모바일 사이드바 오픈 아이콘 -->
        <span id="btn_sidebar_open" class="d-block d-lg-none" style="justify-self: flex-end;">
            <i class="fa-solid fa-bars align-middle"></i>
        </span>
    </div>
</div>
            <!-- 컨텐츠 -->
            <div id="container_contents">
                <div class="blog-contents-center">
                    <div class="row m-0">
                        <!-- 리스트 -->
                        <div id="container_list" class="col-12 col-lg-9 my-3">
                            <div id="list" class="px-3 py-2">

    <!-- 포스트 카테고리명 -->
    <div class="category-name">
        All
        <span class="category-list-size">총 14건</span>
    </div>
    <hr class="post-list-border">
    <!-- 포스트 리스트 -->
    
    <div class="post-list-item px-2" onclick="location.href = '/algorithm/20230919/algorithm_00001';">
        <div class="post-list-subject">KMP 알고리즘</div>
        <div class="post-list-excerpt mt-1">한동안 알고리즘 책을 읽느랴 블로그에 글을 못 썼는데,<br />
한쪽 손에 화상까지 입어서 공부가 더 늦어질 것 같다 ｡ﾟ(*´□`)ﾟ｡<br />
<br />
문자열 검색에 쓰이는 알고리즘인 KMP 알고리즘에 대해 적어보려고 한다.<br />
<br />
<div class="post-chapter">1. 기본적인 문자열 검색 알고리즘</div>
<br />
문자열 “AABABABCCA”에서 “ABC”를 찾으려면 어떻게 해야할까?
문자열의 가장 앞부분부터 ABC와 한글자씩 비교해서 찾는 방법이 있을것이다.
<img src="/assets/img/algorithm_00001_004.gif" style="width: 40rem;" /><br />
위와 같이 찾는 경우 두 문자열의 길이를 곱한 만큼의 시간이 걸린다.
<img src="/assets/img/algorithm_00001_005.png" style="width: 40rem;" /><br />
AB가 계속 반복되는 것 같은데, AB와 AB의 비교도 반복할거라면 <br />
어차피 앞에 있을 AB는 건너뛰고 그 다음부터 비교하면 되지 않을까?<br />
<br />
..이렇게 검색하는 방법이 KMP 알고리즘이다.<br />
<br />
<div class="post-chapter">2. 접두사와 접미사</div>
<br />
접두사란 문자열을 0~N까지 자른 부분 문자열이다.<br />
그림으로 나타내면 다음과 같다.<br />
<img src="/assets/img/algorithm_00001_001.png" style="width: 40rem;" /><br />
반대로 접미사는 문자열을 끝에서 N개 자른 부분 문자열이다.
그림으로 나타내면 다음과 같다.
<img src="/assets/img/algorithm_00001_002.png" style="width: 40rem;" /><br />
<br />
이 중에서 접두사와 접미사가 같은 경우가 오늘 알고리즘의 핵심이다.<br />
문자열 “abacabc”에 대해 생각해보면,<br />
<br />
접두사 [“a”, “ab”, “aba”, “abac”, “abaca”, “abacab”] 등이 있다.<br />
<br />
이제 “길이가 2 이상인 접두사와 전체 문자열”에 대해 접미사를 구해보면<br />
<br />
부분문자열 “ab”에서는 [“b”] 접미사,<br />
부분문자열 “aba”에서는 [“a”, “ba”] 접미사,<br />
부분문자열 “abac”에서는 [“c”, “ac”, “bac”] 접미사,<br />
부분문자열 “abaca”에서는  [“a”, “ca”, “aca”, “baca”] 접미사,<br />
부분문자열 “abacab”에서는 [“b”, “ab”, “cab”, “acab”, “bacab”] 접미사,<br />
부분문자열 “abacabc”에서는 [“c”, “bc”, “abc”, “cabc”, “acabc”, “bacabc”] 접미사<br />
<br />
이 모든 접미사 중, 접두사와 겹쳐지는 것은 [“a”, “ab”] 가 있다.<br />
<img src="/assets/img/algorithm_00001_003.png" style="width: 40rem;" /><br />
위와 같이 문자열에서 문자열의 중간에 접두사와 같은 패턴이 얼마나 반복되는지 표를 만들 수 있다.
KMP 알고리즘은 해당 표를 이용해 동작한다.<br />
<br />
<div class="post-chapter">3. KMP 알고리즘</div>
<br />
실제로 KMP알고리즘이 동작하는 과정을 설명해봤다.<br />
<img src="/assets/img/algorithm_00001_006.png" style="width: 40rem;" /><br />
위와 같은 문자열 String에서 Search를 찾는다고 가정하자.<br />
<img src="/assets/img/algorithm_00001_007.png" style="width: 40rem;" /><br />
일단 검색할 문자열인 Search의 접두사 패턴 표를 만든다.<br />
<img src="/assets/img/algorithm_00001_008.png" style="width: 40rem;" /><br />
인덱스 0이 있다고 가정하고, Search의 인덱스를 1부터 넣는다.<br />
(0부터 하는 방법도 있지만, 이쪽이 코드 짜기엔 더 쉬운 것 같다.)<br />
<img src="/assets/img/algorithm_00001_009.png" style="width: 40rem;" /><br />
String과 Search를 각각 인덱스 0을 기준으로 비교한다.<br />
여기서, Search는 인덱스+1에 들어있는 문자와 비교한다.<br />
즉, 기준은 빨간 화살표에 있지만 Search에서 실제 비교되는 문자는 파란 화살표이다.<br />
둘다 A로 같으니 다음 인덱스로 진행한다.<br />
<img src="/assets/img/algorithm_00001_010.png" style="width: 40rem;" /><br />
둘다 B로 같으니 다음 인덱스로 진행한다.<br />
<img src="/assets/img/algorithm_00001_011.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_012.png" style="width: 40rem;" /><br />
String은 C, Search는 B로 다른 문자를 만났다.<br />
이때 Search의 인덱스인 3의 접두사 표 값(빨간 네모박스)이 1로 되어있으니 Search의 인덱스를 1로 옮긴다.<br />
<br />
위의 과정이 KMP 알고리즘의 제일 중요한 부분이다.<br />
위 과정을 풀어서 설명하면 다음과 같다.<br />
<img src="/assets/img/algorithm_00001_013.png" style="width: 40rem;" /><br />
인덱스를 옮겼으니 다시 비교한다.
<img src="/assets/img/algorithm_00001_014.png" style="width: 40rem;" /><br />
String은 C, Search는 B로 다르다.<br />
Search의 인덱스인 1의 접두사 표 값(빨간 네모박스)이 0으로 되어있으니 Search의 인덱스를 0으로 옮긴다.
<img src="/assets/img/algorithm_00001_015.png" style="width: 40rem;" /><br />
String은 C, Search는 A로 다르다.<br />
Search의 인덱스가 0으로 더이상 옮길수 있는 방법이 없으니, String의 인덱스만 전진한다.
<img src="/assets/img/algorithm_00001_016.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_017.png" style="width: 40rem;" /><br />
둘다 B로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_018.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_019.png" style="width: 40rem;" /><br />
또 String은 C, Search는 로 다르다.<br />
아까 진행했던 것처럼 Search의 인덱스를 1로 옮겨준다.
<img src="/assets/img/algorithm_00001_020.png" style="width: 40rem;" /><br />
String은 C, Search는 B로 다르다.<br />
Search의 인덱스를 0으로 옮긴다.
<img src="/assets/img/algorithm_00001_021.png" style="width: 40rem;" /><br />
String은 C, Search는 A로 다르다.<br />
Search의 인덱스가 0이므로 String의 인덱스만 전진한다.
<img src="/assets/img/algorithm_00001_022.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_022.png" style="width: 40rem;" /><br />
String은 A, Search는 B로 다르다.<br />
Search의 인덱스를 0으로 옮긴다.
<img src="/assets/img/algorithm_00001_023.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_024.png" style="width: 40rem;" /><br />
뒷부분을 진행하면 ABABC로 같을것이므로 생략한다.<br />
<br />
접두사 표를 통해 Search의 인덱스를 앞부분으로 옮기는 행위가 중복 부분을 뛰어넘는 역할을 하는 것을 알 수 있다.<br />
String과 Search가 같지 않으면 String의 인덱스를 고정한 상태로 중복을 뛰어넘으면서 1~2번정도 비교하기 때문에 수행 시간은 String의 길이에 가까울 것이다.<br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">algorithm</span>
            <span class="post-list-uploadtime">2023-09-19 19:32</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230906/project_00008';">
        <div class="post-list-subject">Project Nectarist [08] 중간 결과</div>
        <div class="post-list-excerpt mt-1">8월 28일부터 부랴부랴 개발을 시작한 Nectarist..좋은 사이드프로젝트를 만들기 위해 열심히 했지만,<br /> 
테스트 준비와 병행하는게 쉽진 않았다 ๛(ｰωｰ˘)<br />
거의 다 완료되긴 했지만 다른 중요한 시험이 있으니 일단 중간 결과를 정리해보기로 했다.<br />
<br />
<div class="post-chapter">1. 프로젝트에서 의미가 있던 부분</div>
<br />
<ul>
    <li>
        <b>docker를 사용한 개발환경 설정</b><br />
        <br />
        처음 이미지를 만들땐 분리된 개발환경이 생겨서 좋았다.<br />
        이번 기회에 alpine이나 slim이미지는 apt등이 기본적으로 깔리지 않았다는<br />
        귀중한 경험을 했으니 다음번 이미지 선택에 참고할 수 있을것이다.<br />
        <br />
        컨테이너 관리하는 부분은 아주 원활하지는 않았다.<br />
        환경이 바뀔때마다 이미지를 중간중간 저장해줘야 하는게 약간 번거로웠다.<br />
        하지만 배포할때는 엄청나게 편했다.<br />
        <br />
        아마 docker에 좀더 익숙해지면 docker commit의 수가 줄어들고<br />
        장점만 활용할수 있을 것으로 기대된다.<br />
        쿠버네티스도 한번 공부해봐야겠다.<br />
    </li>
    <li class="mt-3">
        <b>django는 python과 다르다</b><br />
        <br />
        django의 template에서는 굉장히 제한적으로만 변수를 다룰 수 있다는 걸 (몸으로) 깨달았다.<br />
        대부분의 데이터를 views.py에서만 처리한 다음 template로 보냈다.<br />
    </li>
    <li class="mt-3">
        <b>django와 post, csrf</b><br />
        <br />
        Nectarist의 대부분의 요청은 사용자의 눈에 보이지 않기 때문에 GET으로 처리했지만,<br />
        칵테일계산기에서 계산 후 화면만은 예외라서 POST 형식으로 작업을 했다.<br />
        post 형식으로 요청을 보냈더니 django는 csrf 문제로 post를 받을 수 없다는 얘기가 나왔다.<br />
        (csrf는 사용자가 잘못된 요청을 서버에게 보내도록 하는 공격으로 알고있다.)<br />
        csrf token을 추가하면 된다고 해서 토큰을 추가했다.<br />
        <img src="/assets/img/project_00008_001.png" style="width: 40rem;" /><br />
        <br />
        그럼에도 403이 돌아오길래 구글링해보니, @csrf_exempt를 적용하면 csrf 보호에서 예외가 된다고 해서<br />
        <img src="/assets/img/project_00008_002.png" style="width: 40rem;" /><br />
        적용하니 아주 잘 동작했다.
    </li>
    <li class="mt-3">
        <b>django의 ORM</b><br />
        <br />
        PHP를 할땐 SQL만 쓰다가 이번에 ORM을 처음 써봤는데, 데이터를 오브젝트로 바로 꺼낼수 있는 점이 정말 좋았다.<br />
        select_related를 이용하거나, 간단하게 조건을 주는 정도로 경험했다.<br />
        다만 복잡한 구조의 데이터는 어떻게 다루면 좋은지? 혹은 테이블 설계 레벨에서 해결할수 있는지? 의문점이 들었다.<br />
        <br />
        <img src="/assets/img/project_00008_003.png" style="width: 40rem;" /><br />
        위 그림은 일할때 짰던 하나의 SQL문을 캡쳐한 것인데, (모양만 캡쳐)<br />
        가져오는 내용도 많고 JOIN도 많고 UNION도 있어서 꽤 복잡했다.<br />
        다음번 프로젝트는 크고 정교하게 해서 ORM을 꼭 극한까지 사용해보려고 한다.<br />
        <span class="post-overegg" style="color: blue; border: 0;">
            저때는 무조건 한번에 모든 데이터를 가져오는게 효율이 좋은걸로만 생각했는데,<br />
            너무 오래 걸리면 여러번에 나눠서 가져온다음 붙이는 게 훨씬 좋다는 걸 나중에 깨달았다.
        </span>
    </li>
    <li class="mt-3">
        <b>django의 authentification을 경험하지 못하다</b><br />
        <br />
        다른 프로젝트들을 보면 django에서 지원하는 authentification을 사용하던데,<br />
        나는 관리자를 일반 사용자와 같이 취급/ 일반 사용자중에서 관리자를 뽑기 위해서<br />
        별도로 authentification을 사용하지 않았다.<br />
        <br />
        <img src="/assets/img/project_00008_004.png" style="width: 40rem;" /><br />
        그냥 session에 넣고<br />
        <img src="/assets/img/project_00008_005.png" style="width: 40rem;" /><br />
        그냥 session을 풀어버렸다<br />
        <br />
        authentification이 어떤 역할과 기능이 있는지 좀더 공부가 필요하다.
    </li>
    <li class="mt-3">
        <b>급하게 작업하면 코드가 더러워진다</b><br />
        <br />
        급하게 작업하느랴 views.py / css class / html id 등이 전부 중구난방인데,<br />
        명명규칙을 잡아놓고 하지 않으면 복잡해지는 것 같다. 다음번엔 꼭 미리 정해놓고 해야겠다..<br />
    </li>
</ul>
<div class="post-chapter">2. 중간점검 결론</div>
<br />
지금까지 프로젝트에서 얻은 것은 다음과 같다.<br />
<br />
<ul>
    <li><b>docker</b> : 이미지를 만들고, 커밋하고, docker-compose를 통해 django에 다른 컨테이너를 연결하는 것</li><br />
    <li><b>django</b> : urls.py - views.py - models.py 각 파일의 간단한 활용법, csrf를 벗어나는 방법, 서버에 파일 올리기</li><br />
    <li><b>기타</b> : django MTV와 MVC 패턴의 비교</li><br />
</ul>
<div class="post-chapter">3. 앞으로 추가할 기능</div>
<br />
<ul>
    <li>
        <b>패스워드 찾기 할때 메일 발송하는 기능</b><br />
        <br />
        linux의 sendmail을 사용하려고 하는데, 단순히 sendmail만 설치한다고 메일을 보낼수 있을지..
        별도로 메일을 전송해주는 서버가 있어야 하는게 아닌지 좀더 공부가 필요하다.
    </li>
    <li class="mt-3">
        <b>글 쓸때 에디터에 그림을 넣으면 그림도 같이 저장하는 기능</b><br />
        <br />
        에디터에 이벤트를 걸어서 이미지가 들어왔을때 해당 이미지를 임시파일로 저장 후
        에디터 내 이미지를 서버에 있는 임시파일로 바꿔주면 될 것 같다.
        어떤 이벤트를 걸지/이미지 붙여넣기할때 임시파일이 어디 저장될지 지식이 필요하다.
    </li>
    <li class="mt-3">
        <b>반응형 웹으로 모바일 버전 지원하기</b><br />
        <br />
        이거는 원래 염두에 두던 작업이라 bootstrap의 row-col을 이용해 이미 일부 적용해놨다.
        디테일한 부분을 조절하면 될 것 같다.
    </li>
    <li class="mt-3">
        <b>검색 기능, 사용자 정보 저장</b><br />
        <br />
        9월 10일 전에 마감하다보니 빠트린 기능들인데, 큰 이슈없이 적용 가능할것으로 생각하고 있다.
    </li>
</ul>
<div class="post-chapter">4. 중간 정리를 마치며</div>
<br />
django에 적응하려고 진행한 프로젝트로, 기본기에는 적응했다는 생각이 든다.<br />
그렇지만 깊게 사용해봤다는 생각이 들지 않는다… <br />
발전을 위해 django의 공식 문서를 좀더 읽어볼 필요가 있을 것 같다.<br />
<br />
docker는 하나의 컨테이너가 하나의 기능을 타겟으로 한다는 느낌을 강하게 받았다.<br />
MSA 구조를 적용한다면 이 docker가 참 필요하겠구나 싶은데,<br />
과연 컨테이너를 어떻게 분리하는게 좋은 구조인지에 대해서 감이 아직 안 잡힌다.<br />
나처럼 django+uwsgi+nginx를 하나의 컨테이너에 밀어넣는것과 각각 하나의 컨테이너를 쓰는 것 사이에 어떤 차이점과 장단점이 있는걸까?
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-09-06 16:42</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230906/project_00007';">
        <div class="post-list-subject">Project Nectarist [07] 구글 클라우드에 올리기</div>
        <div class="post-list-excerpt mt-1">구글 클라우드에 작은 인스턴스는 무료로 사용할수 있게 해주는 정책이 있다.<br />
<br />
링크: <a href="https://cloud.google.com/free?hl=ko">무료 체험판 및 무료 등급</a>
<img src="/assets/img/project_00007_001.png" style="width: 40rem;" /><br />
고맙습니다…구글<br />
<br />
해당 무료 인스턴스 정책을 이용해 Nectarist를 누구나 확인할 수 있도록 업로드하려고 한다.<br />
<br />
<div class="post-chapter">1. 인스턴스 만들기</div>
<br />
일단 구글 클라우드에 접속한다.<br />
<img src="/assets/img/project_00007_003.png" style="width: 40rem;" /><br />
<br />
기본적인 결제 등록 및 가입을 마치고 나면 기본 프로젝트가 있고, 프로젝트에 위와 같이 기본 대시보드가 표시된다.<br />
왼쪽의 Compute Engine - VM 인스턴스 - 인스턴스 만들기로 이동한다.<br />
<br />
<img src="/assets/img/project_00007_002.png" style="width: 40rem;" /><br />
구체적인 무료 인스턴스 조건은 위와 같으니, 조건에 맞춰서 인스턴스를 생성한다.
<img src="/assets/img/project_00007_004.png" style="width: 40rem;" /><br />
<img src="/assets/img/project_00007_005.png" style="width: 40rem;" /><br />
그리고 방화벽 설정에서 HTTP와 HTTPS를 허용하면 완료된다.<br />
<br />
<div class="post-chapter">2. VM 인스턴스 접속하기</div>
<br />
VM 인스턴스에 SSH로 접속할수 있게 하려면 키를 생성해야 한다.<br />
PuttyGen으로 키를 생성했다.<br />
링크: <a href="https://www.puttygen.com/">PuttyGen</a><br />
<br />
<img src="/assets/img/project_00007_006.png" style="width: 40rem;" /><br />
Generate를 눌러 키를 생성 후, Save public / Save Private / 위의 Conversions에서 Export openSSH Key 를 해준다.<br />
세가지 키를 각각 적당한 이름으로 저장한 다음 <br />
<br />
<img src="/assets/img/project_00007_007.png" style="width: 40rem;" /><br />
위 칸에 있는 키를 긁고 (Key Comment에 있는 내용이 openSSH Username이 된다.)<br />
<br />
<img src="/assets/img/project_00007_008.png" style="width: 40rem;" /><br />
메타데이터 - SSH 키에 등록한다.<br />
<br />
이제 각 방법을 사용해서 접속할 수 있게 되었는데, <br />
<br />
ssh, mysql workbench: openSSH 키로 접속<br />
<img src="/assets/img/project_00007_009.png" style="width: 40rem;" /><br />
<br />
filezilla: private key로 접속<br />
<img src="/assets/img/project_00007_010.png" style="width: 40rem;" /><br />
이제 ssh와 filezilla를 사용할수 있으니 개발에서 사용하던 도커 이미지를 서버로 올려서 컨테이너를 열어준다.<br />
volume에 들어있던 파일도 같이 옮겨주면 완료된다.<br />
<br />
<img src="/assets/img/project_00007_011.png" style="width: 40rem;" /><br />
외부 IP로 접속해보니 다행히 잘 동작한다!
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-09-06 16:42</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230902/project_00006';">
        <div class="post-list-subject">Project Nectarist [06] DB 연동과 models.py</div>
        <div class="post-list-excerpt mt-1"><div class="post-d-none"><br /><br /><br /></div>
<br />
<div class="post-chapter">1. 컨테이너 간 연동</div>
<br />
<br />
DB연동 및 컨테이너 연결을 위해 docker-compose.yml을 수정하였다.<br />
<br />
<div class="post-code">
version: "3.7"<br />
<br />
services:<br />
&nbsp;&nbsp;app: <br />
&nbsp;&nbsp;&nbsp;&nbsp;image: nectarist/nginx-django:2.2.2<br />
&nbsp;&nbsp;&nbsp;&nbsp;ports:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 80:80<br />
&nbsp;&nbsp;&nbsp;&nbsp;volumes:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ./nectarist_web:/usr/nectarist/nectarist_web<br />
&nbsp;&nbsp;&nbsp;&nbsp;container_name: nectarist_web<br />
<br />
&nbsp;&nbsp;mysql:<br />
&nbsp;&nbsp;&nbsp;&nbsp;image: nectarist/mysql:1.0.0<br />
&nbsp;&nbsp;&nbsp;&nbsp;ports:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 3306:3306<br />
&nbsp;&nbsp;&nbsp;&nbsp;env_file:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ./nectarist.env<br />    
&nbsp;&nbsp;&nbsp;&nbsp;volumes:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ./nectarist_db:/var/lib/mysql
&nbsp;&nbsp;&nbsp;&nbsp;container_name: nectarist_db<br />
</div>
<br />
하단의 mysql:부분을 추가했는데, 이미지와 연결 포트를 설정했다.<br />
/var/lib/mysql 폴더를 볼륨에 추가했다.<br />
app(django)과 mysql부분에 각각 container_name도 선언했다.<br />
<br />
env_file은 DB관련 변수로, nectarist.env에 따로 저장했다.<br />
<br />
<div class="post-code">
MYSQL_DATABASE: nectarist<br />
MYSQL_ROOT_PASSWORD=nectaristpass
</div>
<br />
<br />
이제 nectarist-web 컨테이너에 ping을 설치후,<br />
외부 터미널에서 docker exec nectarist_web ping nectarist_db 을 통해 <br />
두 컨테이너 간 연결이 가능한지 확인했다.<br />
<img src="/assets/img/project_00006_001.png" style="width: 40rem;" /><br />
핑이 잘 통하는거 보니 컨테이너간 연결은 원활하다.<br />
<br />
nectarist-web은 settings.py의 DATABASES 부분을 다음과 같이 수정해준다.<br />
<br />
<div class="post-code">
DATABASES = {<br />
&nbsp;&nbsp;'default': {<br />
&nbsp;&nbsp;&nbsp;&nbsp;'ENGINE': 'django.db.backends.mysql',<br />
&nbsp;&nbsp;&nbsp;&nbsp;'NAME': "nectarist", #DB명<br />
&nbsp;&nbsp;&nbsp;&nbsp;"USER": "root", #로그인 아이디<br />
&nbsp;&nbsp;&nbsp;&nbsp;"PASSWORD": "nectaristpass", #로그인 패스워드<br />
&nbsp;&nbsp;&nbsp;&nbsp;"HOST": "nectarist_db", #db 컨테이너명<br />
&nbsp;&nbsp;&nbsp;&nbsp;"PORT": "3306"<br />
&nbsp;&nbsp;}<br />
}
</div>
<br />
그리고 mysql 연결을 위해 mysqlclient를 설치한다.
<div class="post-code">
&gt; pip install mysqlclient
</div>
이제 nectarist-web도 이미지를 커밋해 준다.<br />
<br />
이제 docker-compose up으로 두개의 컨테이너를 불러온 다음<br />
둘다 정상적으로 구동이 되면 db컨테이너와 웹 컨테이너 실행이 완료되었다.<br />
<br />
<span class="post-overegg" style="color: blue; border: 0;">
안되는 경우 db쪽 볼륨 폴더 삭제 + docker volume prune 후 다시 시도해보면 좋다.
</span><br />
<br />
<div class="post-chapter">2. inspectdb로 만들었어요</div>
<span style="color: red;">꼭 3번 챕터도 같이 읽으시길 권합니다..</span><br /><br />
mysql을 간편하게 다루기 위해 sqlyog를 설치했다.
<img src="/assets/img/project_00006_002.png" style="width: 40rem;" /><br />
<br />
sqlyog로 접속한 후, 데이터베이스에 테스트용으로 NT_USER 테이블을 추가했다.<br />
<br />
이제 nectarist_web에서 다음 명령어를 실행한다.<br />
<div class="post-code">
&gt; python manage_py inspectdb
</div>
<br />
<img src="/assets/img/project_00006_003.png" style="width: 40rem;" /><br />
<br />
방금 생성한 테이블이 models.py에 적용할 수 있는 모양으로 변경되어 나온다.<br />
테이블을 다 만든 뒤 해당 내용을 models.py에 복사-붙여넣기 해주면 된다.<br />
<br />
<span class="post-overegg" style="color: blue; border: 0;">
안되는 경우 settings.py의 INSTALLED_APPS에 현재 앱이 있는지 확인한다.
</span><br />
<br />
이제 views 에서 데이터를 불러오기 위해 최상단에 models.py의 내용을 import 시킨다.<br />
views.py의 최상단에 추가 :<br />
<div class="post-code">
&gt; from .models import *
</div>
<br />
views.py의 “칵테일정보”메뉴 목록을 DB와 연동하려면 <br />
해당 메뉴 템플릿을 불러오는 함수에서 모델을 통해 데이터를 가져온다음 넘겨준다.<br />
<div class="post-code">
def cocktailinfo(request):<br />
&nbsp;&nbsp;# menu list data<br />
&nbsp;&nbsp;#nt_cocktail_idx 역순으로 데이터 불러오기<br />
&nbsp;&nbsp;list_data = NtCocktail.objects.order_by('-nt_cocktail_idx')<br />
&nbsp;&nbsp;context.update({"list_data": list_data})<br />
<br />
&nbsp;&nbsp;return render(request, 'sites/cocktailinfo.html', context)<br />
</div>
테이블 클래스.objects.order_by(순서 기준)를 통해 데이터를 불러온다음<br />
넘겨받은 템플릿에서 다음과 같이 목록으로 처리한다.<br />
<br />
<img src="/assets/img/project_00006_004.png" style="width: 40rem;" /><br />
<img src="/assets/img/project_00006_005.png" style="width: 40rem;" /><br />
목록이 DB와 연동 완료되었다.
<br />
<br />
<div class="post-chapter">3. 다들 models.py로 만든다</div>
<br />
sqlyog에서 직접 테이블을 만든 뒤 inspectDB로 테이블을 붙여 넣으면서<br />
테이블이 간단해서 참 다행이고 django에도 바로 적용되는게 좋다고 생각했으나..<br />
<br />
알고보니 django는 models.py를 입력하고 makemigrations/migrate를 하면<br />
알아서 테이블을 만들어주는 장점이 있었다.<br />
<br />
2번같은 방법을 사용한 뒤 다른곳에서 DB컨테이너를 올릴때 잘 적어놓은 models.py를 아무리 마이그레이션 해도 테이블이 생기지 않는 문제가 발생할 수 있다.<br />
<br />
이때 다음과 같이 해결할 수 있다.<br />
<img src="/assets/img/project_00006_006.png" style="width: 40rem;" /><br />
DB 구조를 sql 덤프로 백업한다.<br />
<br />
<img src="/assets/img/project_00006_007.png" style="width: 40rem;" /><br />
해당 sql dump를 테이블이 필요한 서버에서 실행시킨다.<br />
테이블이 생기고 마법처럼 동작이 잘 됐다.
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-09-02 17:04</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230831/project_00005';">
        <div class="post-list-subject">Project Nectarist [05] django와 디렉토리 구조</div>
        <div class="post-list-excerpt mt-1">python 파일을 수정할때마다 자동으로 새로고침이 되고<br />
디렉토리도 밖으로 뺐으니 외부에 있는 nectarist_web을 이용해서<br />
개발을 시작할 수 있겠다.<br />
<br />
<div class="post-chapter">1. url과 공통 템플릿</div>
<br />
<br />
사이트에 기본 접속하면 메인 화면이 표시되고,<br />
사이트/cocktailinfo 는 칵테일정보..등으로 카테고리를 나눌 것이다.<br />
<br />
일단 메인 화면부터 작성했다.<br />
<br />
urls.py<br />
<div class="post-code">
from django.urls import path<br />
<br />
from . import views<br />
<br />
urlpatterns = [<br />
&nbsp;&nbsp;# 맵핑url, view.py, 별칭<br />
&nbsp;&nbsp;path("", views.main, name="main"),<br />
]<br />
</div>
일단 /로 들어오면 메인화면으로 보내기로 했으니,<br />
““를 views.py의 main과 맵핑한다.<br />
<br />
views.py<br />
<div class="post-code">
from django.http import HttpResponse<br />
from django.shortcuts import render<br />
<br />
def main(request):<br />
&nbsp;&nbsp;return render(request, 'sites/main.html', {})<br />
</div>
main은 sites/main.html을 부르도록 처리한다.<br />
<br />
<img src="/assets/img/project_00005_005.png" style="width: 40rem;" /><br />
내가 urls.py와 views.py를 만지며 이해했던 간략한 구조를 위와 같이 그려봤다.<br />
<br />
각 카테고리에서 사용될 화면은 nectarist_web/sites에 추가할 것이다.<br />
sites 디렉토리를 만들어주고, 여기에 main.html을 작성한다.<br />
<br />
<img src="/assets/img/project_00005_001.jpg" style="width: 40rem;" /><br />
메인화면에서 빨간색으로 표시된 부분이 모든 화면에서 공통적으로 표시되는 곳으로,<br />
해당 부분부터 작업을 할 것이다.<br />
<br />
공통적으로 사용할 화면은 nectarist_web/templates에 추가할 것이다.<br />
templates 디렉토리를 만들고, 여기에 layout.html을 작성한다.<br />
<span class="post-overegg">사이트의 가장 상위의 화면이 될 파일이다.</span><br />
<br />
<img src="/assets/img/project_00005_002.jpg" style="width: 40rem;" /><br />
css는 header로, js는 footer로 나눠서 관리하고<br />
화면은 위와 같이 4개의 구역으로 파일을 나눌 것이다.<br />
<br />
<div class="post-chapter">2. 디렉토리 구조</div>
<br />
<img src="/assets/img/project_00005_003.png" style="width: 40rem;" /><br />
<br />
화면계획서를 참고로 하여 위와 같이 화면을 작성했다.<br />
실제 DB 데이터가 들어가야 하는 부분은 아직 샘플 데이터로 작성했다.<br />
<br />
현재 디렉토리 구조는 다음과 같다.<br />
<br />
<img src="/assets/img/project_00005_004.png" style="width: 40rem;" /><br />
<br />
다음은 docker로 DB를 띄워서 사이트와 연동을 할 예정이다.
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-08-31 15:00</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230831/project_00004';">
        <div class="post-list-subject">Project Nectarist [04] Docker를 이용한 개발환경</div>
        <div class="post-list-excerpt mt-1">이번 프로젝트의 환경은 Django-uWSGI-Nginx + MySQL로 정했다.<br />
학부생때 썼던 추억이 있어서 선택했다.ദ്ദി<em>ˊᗜˋ</em>)<br />
개발이 완료되고나면 AWS 등에 올릴까 고민중이다.<br />
<br />
로컬에서 개발한 다음 AWS에 올리려면 <br />
노트북에 DB나 서버를 덕지덕지 깔았다가 지워야 한다는 얘기인데..<br />
노트북에 뭔가 까는걸 싫어하는 편이라 어떻게 할지 고민하다가,<br />
이번 프로젝트에 Docker를 적용하기로 했다.<br />
<br />
<img src="/assets/img/project_00004_001.png" style="width: 40rem;" /><br />
<br />
어차피 한 덩어리로 돌아갈 Django-uWSGI-Nginx를<br />
하나의 컨테이너로 붙여서 돌리고,<br />
소스코드 부분은 따로 볼륨을 마운트 해서 돌리면 좋을 것 같다.<br />
그러면 AWS에 올릴때 단순히 이미지 돌리고, 소스코드만 올리면 되겠다.<br />
<br />
경험상 서버랑 DB를 따로 재시작하는 경우가 대부분이었어서<br />
DB는 별도의 컨테이너로 분리할 예정이다.<br />
DB 데이터도 외부 볼륨을 마운트하면 괜찮게 사용할 수 있지 않을까.<br />
<br />
<div class="post-chapter">1. Docker 설치하기</div>
<br />
<br />
<img src="/assets/img/project_00004_002.png" style="width: 40rem;" /><br />
<br />
<img src="/assets/img/project_00004_003.png" style="width: 40rem;" /><br />
Docker 홈페이지에서 Docker를 다운받아서 설치해줬다.<br />
<br />
<img src="/assets/img/project_00004_004.png" style="width: 40rem;" /><br />
실행시키면 요상한 에러가 뜨는데, <br />
WSL은 윈도우에서 리눅스 기능을 사용할 수 있게 해주는 거라고 한다.<br />
윈10부터 기본 탑재되어있다는데, 최근에 윈11로 업데이트한게 영향이 있을지도 모르겠다.<br />
<br />
<img src="/assets/img/project_00004_005.png" style="width: 40rem;" /><br />
업데이트로 간단하게 해결했다.<br />
<br />
<img src="/assets/img/project_00004_006.png" style="width: 40rem;" /><br />
윈도우에서의 도커 데스크탑인데, ui도 귀엽고 상당히 편리하다.<br />
터미널과 같이 쓰기에 딱 좋은 듯 하다.<br />
<br />
<div class="post-chapter">2. Docker Image 만들기</div>
<br />
<br />
기존에 이미 Django-uWSGI-Nginx 이미지가 있지만, <br />
내가 쓰려는 의도대로 쓸 자신이 없어서 직접 이미지를 만들기로 했다.<br />
<br />
이미지 생성을 위해 Dockerfile을 다음과 같이 만들었다.<br />
<br />
<div class="post-code">
FROM python<br />
<br />
RUN rm -rf /var/lib/apt/lists/*<br />
RUN apt-get update<br />
RUN apt-get -y install vim<br />
RUN apt-get -y install systemctl<br />
RUN apt-get -y install nginx<br />
RUN apt-get -y install gcc<br />
RUN apt-get -y install libc-dev<br />
RUN pip3 install django<br />
RUN pip3 install uwsgi<br />
<br />
CMD ["nginx", "-g", "daemon off;"]<br />
<br />
EXPOSE 80
</div>
<br />
python 기본 이미지를 베이스로 시작했는데,<br />
slim이나 alpine은 구조나 기능들이 평소 사용하던것과 많이 다르다보니<br />
다루기 힘들어서 선택할 수가 없었다. (apt도 안되고 systemd도 없다!)<br />
<br />
rm-rf를 통해 apt 관련 오류를 없애주고,<br />
apt 버전이 낮아 업데이트 처리했다.<br />
<span class="post-overegg">컨테이너를 빌드할때마다 apt 버전이 달라질 수 있으니 좋은 방법은 아닐 것이다.</span><br />
파일 추가와 서비스 관리를 위해 vim과 systemctl을 먼저 깔았다.<br />
<span class="post-overegg">systemctl이 먼저 깔려있어야 nginx를 systemctl로 움직일 수가 있다.</span><br />
nginx를 설치하고, uwsgi 빌드에 필요한 gcc와 libc-dev를 추가했다.<br />
pip로는 django와 uwsgi를 설치했다.<br />
기본적으로 항상 실행되어야 하는 두가지 중 nginx를 daemon off 했다. (실행시키고 꺼버리기 위해서)<br />
<br />
웹서버답게 포트 80을 expose했다.<br />
<br />
<img src="/assets/img/project_00004_007.png" style="width: 40rem;" /><br />
<br />
위와 같이 빌드를 마친 후, 해당 이미지를 살짝 수정하기 위해 컨테이너로 만들어 접속한다.<br />
<br />
<div class="post-code">
&gt; cd /usr<br />
&gt; django-admin startproject nectarist<br />
</div>
<br />
위 명령어를 통해 /usr/nectarist에 새 django 프로젝트를 만들었다.<br />
이때 /usr/nectarist의 구조는 다음과 같다.<br />
<br />
<div class="post-code">
/usr/nectarist<br />
&nbsp;ㄴmanage.py<br />
&nbsp;ㄴnectarist<br />
&nbsp;&nbsp;ㄴ__init__.py<br />
&nbsp;&nbsp;ㄴasgi.py<br />
&nbsp;&nbsp;ㄴsettings.py<br />
&nbsp;&nbsp;ㄴurls.py<br />
&nbsp;&nbsp;ㄴwsgi.py<br />
</div>
<br />
접근을 위해 /usr/nectarist/nectarist/settings.py를 수정한다.<br />
<br />
최상단에 다음 코드 추가 <br />
<div class="post-code">
import os
</div>
<br />
ALLOWED_HOSTS <br />
<div class="post-code">
ALLOWED_HOSTS = ['localhost']
</div>
<span class="post-overegg">일단 로컬에서만 개발할거라 로컬호스트만 넣었다</span><br />
<br />
TEMPLASTES 의 DIRS 부분 수정:<br />
<div class="post-code">
TEMPLATES = [<br />
&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;"BACKEND": "django.template.backends.django.DjangoTemplates",<br />
&nbsp;&nbsp;&nbsp;&nbsp;"DIRS": [os.path.join(BASE_DIR, "nectarist_web")]<br />
</div>
<span class="post-overegg">프로젝트 밑의 “nectarist_web” 디렉토리에 기본 자리를 잡았다</span><br /><br />
INSTALLED_APPS 부분 확인:<br />
<div class="post-code">
INSTALLED_APPS = [<br />
&nbsp;&nbsp;'django.contrib.admin',<br />
&nbsp;&nbsp;'django.contrib.auth',<br />
&nbsp;&nbsp;'django.contrib.contenttypes',<br />
&nbsp;&nbsp;'django.contrib.sessions',<br />
&nbsp;&nbsp;'django.contrib.messages',<br />
&nbsp;&nbsp;'django.contrib.staticfiles',<br />
&nbsp;&nbsp;'nectarist_web.apps.NectaristWebConfig',<br />
]
</div>
<br />
가장 마지막 부분에 (내가 만든 앱 이름).apps.(apps.py에 있는 class명)이 없으면 적어준다.<br />
<br />
STATIC_URL 수정 및 STATICFILES_DIRS 추가 :<br />
<div class="post-code">
STATIC_URL = '/static/'<br />
STATICFILES_DIRS = [os.path.join(BASE_DIR, 'nectarist_web', 'static')]<br />
</div>
<br />
css,js,img등을 django-nginx간 연결하기 위해선 static 폴더 설정이 필요하다.<br />
나는 nectarist_web만 외부로 빼서 작업하기 때문에 <br />
해당 폴더 내의 /usr/nectarist/nectarist/static 폴더를 정적 폴더로 설정했다.<br />
<br />
/usr/nectarist로 돌아와서, 설정파일을 위한 conf와 로그를 위한 logs 디렉토리를 만들었다.<br />
<br />
<div class="post-code">
&gt; cd /usr/nectarist
&gt; mkdir conf<br />
&gt; mkdir logs<br />
</div>
<br />
이제 /usr/nectarist/conf로 이동해서, <br />
uWSGI 서비스에 사용할 설정파일을 vim으로 생성한다.<br />
<br />
<div class="post-code">
&gt; cd /usr/nectarist/conf<br />
&gt; vim nectarist-uwsgi.ini
</div>
<br />
<div class="post-code">
[uwsgi]<br />
chdir = /usr/nectarist<br />
module = nectarist.wsgi<br />
<br />
socket = :8000<br />
<br />
vacuum = true<br />
logto = /usr/nectarist/logs/uwsgi.log
<br />
py-autoreload = 1<br />
</div>
<br />
chdir은 프로젝트 기본 경로고, log는 아까 만든 logs 폴더로 저장하도록 처리했다.<br />
py-autoreload는 python파일이 변경될때마다 uwsgi를 재실행시켜주는 옵션이다.<br />
<br />
다음은 /etc/systemd/system/ 에 방금 만든 uwsgi 설정파일을 서비스로 만든다.<br />
<br />
<div class="post-code">
&gt; cd /etc/systemd/system<br />
&gt; vim uwsgi.service
</div>
<br />
<div class="post-code">
[Unit]<br />
Description=uWSGI service<br />
<br />
[Service]<br />
ExecStart=/usr/local/bin/uwsgi -i /usr/nectarist/conf/nectarist-uwsgi.ini<br />
<br />
Restart=always<br />
Type=notify<br />
StandardError=syslog<br />
NotifyAccess=all<br />
<br />
[Install]<br />
WantedBy=multi-user.target<br />
</div>
<br />
<div class="post-code">
&gt; systemctl enable uwsgi
</div>
<br />
systemctl을 통해 uwsgi 서비스를 등록했으니,<br />
다음은 /etc/nginx/conf.d로 이동해 nginx를 설정해준다.<br />
<br />
<div class="post-code">
&gt; cd /etc/nginx/conf.d<br />
&gt; vim nectarist-nginx.conf
</div>
<br />
<div class="post-code">
server {<br />
&nbsp;&nbsp;listen 80;<br />
&nbsp;&nbsp;server_name localhost;<br />
&nbsp;&nbsp;charset utf-8;<br />
<br />
&nbsp;&nbsp;location / {<br />
&nbsp;&nbsp;&nbsp;&nbsp;uwsgi_pass 127.0.0.1:8000;<br />
&nbsp;&nbsp;&nbsp;&nbsp;include /etc/nginx/uwsgi_params;<br />
&nbsp;&nbsp;}<br />
<br />
&nbsp;&nbsp;location /static/ {<br />
&nbsp;&nbsp;&nbsp;&nbsp;alias /usr/nectarist/nectarist_web/static/;<br />
&nbsp;&nbsp;}<br />
}
</div>
<br />
settings.py에서 설정한 static 폴더를 alias에서도 똑같이 잡아준다.
<br />
이제 작업 내용을 이미지에 커밋한다.<br />
<br />
<div class="post-code">
&gt; docker commit 컨테이너ID 이미지/태그
</div>
<br />
이제 사용하던 컨테이너를 없애고 커밋한 이미지로 새 컨테이너를 뽑아준다.<br />
nginx는 컨테이너 실행시 켜지다보니 컨테이너를 다시 뽑아야 설정이 반영된다.<br />
uwsgi를 재시작 해준다. <br />
(실행 순서 때문인지 컨테이너를 키고 uwsgi를 항상 재시작해줘야 하는 불편함이 있다. 다른 방법이 필요하다.)<br />
<br />
<div class="post-code">
&gt; systemctl restart uwsgi
</div>
<br />
잘 동작되지 않으면 /var/log/nginx/error.log를 확인하면 좋다.<br />
connect failed~connecting to upstream~같은 오류가 있다면 nginx가 uwsgi를 찾는 동작중이니,uswgi쪽을 수정 및 재시작하는게 필요하고, 해당 오류 없이 bind() failed등이 표시되면<br />
nginx문제니 커밋 후 컨테이너를 다시 뽑아서 확인한다.<br />
<br />
<img src="/assets/img/project_00004_008.png" style="width: 40rem;" /><br />
<br />
localhost:80번으로 접속했을 때 위와 같이 귀여운 django 화면이 표시되었으니 성공이다.<br />
<br />
<div class="post-chapter">3. volume mount</div>
<br />
<br />
이제 django app을 만들고, 해당 앱의 디렉토리를 로컬로 분리할 것이다.<br />
일단 django root(/usr/nectarist) django app을 만들어준다.<br />
<br />
<div class="post-code">
&gt; python manage.py startapp nectarist_web
</div>
<br />
nextarist_web이라는 디렉토리가 생기는데,<br />
볼륨을 저장할 디렉토리에 해당 디렉토리를 통째로 docker cp 해준다.<br />
<br />
<div class="post-code">
&gt; docker cp 컨테이너ID:/usr/nectarist/nectarist_web 볼륨을저장할디렉토리/nectarist_web
</div>
<br />
통째로 복사가 끝났다면 이제 마운트를 통해 디렉토리를 가져올 것이기 때문에<br />
docker 내부에 있는 해당 디렉토리는 삭제한다.<br />
<br />
이제 프로젝트 설정 경로(/usr/nectarist/nectarist)에 있는 urls.py를 수정해준다.<br />
<br />
<div class="post-code">
urlpatterns = [<br />
&nbsp;&nbsp;path('', include('nectarist_web.urls')),<br />
&nbsp;&nbsp;path('admin/', admin.site.urls),<br />
]
</div>
<br />
위쪽의 path를 추가하는데, 웹사이트 url을 url.com이라고 가정했을때<br />
url.com 또는 그 밑으로 들어온 경로는 전부 새로 만든 앱인 nectarist_web으로 이동하도록 처리했다.<br />
<br />
여기까지의 정보를 이미지에 docker commit 해준다. <br />
<br />
이제 볼륨을 저장할 디렉토리에 docker-compose.yml 파일을 만든 뒤, 내용을 다음과 같이 적어준다.<br />
<br />
<div class="post-code">
version: "3.7"<br />
<br />
services:<br />
&nbsp;&nbsp;app: <br />
&nbsp;&nbsp;&nbsp;&nbsp;image: nectarist/nginx-django:2.0.0<br />
&nbsp;&nbsp;&nbsp;&nbsp;ports:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 80:80<br />
&nbsp;&nbsp;&nbsp;&nbsp;volumes:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ./nectarist_web:/usr/nectarist/nectarist_web<br />
</div>
<br />
image 부분은 아까 새로 commit한 이미지를 적어준다.<br />
ports는 -p 옵션과 같게 설정한다.<br />
volumes는 바깥쪽 경로:docker 내부 경로로 적는다.<br />
<br />
이제 이 디렉토리에서 docker-compose up (-d)을 실행하면 마운트된 볼륨과 함께 신선한 컨테이너가 생긴다.<br />
바깥의 마운트된 디렉토리를 수정하면서 개발을 진행하면 된다.
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-08-31 01:44</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230830/project_00003';">
        <div class="post-list-subject">Project Nectarist [03] 테이블 설계</div>
        <div class="post-list-excerpt mt-1">Project Nectarist [02] 번에서 설계한 화면을 바탕으로<br />
프로젝트에서 사용할 테이블을 설계해봤다.<br />
논리적 설계가 중요한 건 알지만, 테이블 수가 워낙 적어서 건너뛰었다.<br />
<br />
전체 테이블은 다음과 같다.<br />
<br />
<img src="/assets/img/project_00003_001.png" style="width: 40rem;" /><br />
<br />
ERD 툴을 뭘 쓸까 하다가 간편하게 dbdiagram.io 사이트를 이용했다.<br />
원래 계획한대로 가벼운 프로젝트에 맞는 가벼운 테이블 구조로 완성되었다.<br />
<br />
테이블을 하나씩 자세히 살펴보겠다.<br />
<br />
<img src="/assets/img/project_00003_002.png" style="width: 40rem;" /><br />
<br />
NT_COCKTAIL은 칵테일 정보 테이블이다.<br />
고유 인덱스와 칵테일 명, 제조법, 칵테일 섬네일을 칼럼으로 가진다.<br />
섬네일은 서버에 이미지 저장 후 이미지 링크만 db에 저장할 예정이다.<br />
<br />
NT_INGRDNT는 재료 테이블이다.<br />
고유 인덱스와 재료 종류, 재료명을 컬럼으로 가진다.<br />
재료 종류는 칵테일 계산기 등에서 좌측에 재료 아이콘을 다양하게 표시할수 있게 하기위해 집어넣었다. <br />
술/주스/허브 등의 종류를 코드화해서 00,01..등으로 저장할 예정이다.<br />
<br />
NT_COCKTAIL_RECIPE는 칵테일 만드는 재료를 위한 테이블이다.<br />
칵테일과 재료를 1:N으로 매칭하고, 분량(AMT)과 단위(UNIT)을 텍스트로 입력하도록 했다.<br />
차후에 실제 가지고있는 재료의 양에 따라 만들수 있는 칵테일을 계산하도록 고도화 하게 될것을 대비해서,<br />
분량과 단위를 제조법에 모두 집어넣지 않고 별도로 분리했다.<br />
칵테일 계산기는 해당 테이블을 이용해서 만들수 있는 칵테일을 계산하게 될 것이다.<br />
<br />
<img src="/assets/img/project_00003_003.png" style="width: 40rem;" /><br />
<span class="post-overegg">난 ERD 선정리의 달인이라 원래 선이 저렇게 크로스 되는 경우는 잘 안 만드는데.. dbdiagram에서는 선만 따로 움직이는게 불가능해서 어쩔 수 없었다.</span><br />
<br />
NT_USER테이블은 사용자 테이블이다.<br />
사용자 아이디를 PK로 잡는 대신 별도로 인덱스를 붙였는데,<br />
몇가지 이유가 있다.<br />
<br />
(1) 아주 많은 데이터가 아니고서야 큰 차이는 없겠지만, <br />
대체적으로 integer 조인이 varchar 조인보다 빠르다.<br />
(byte 크기 차이나, varchar 특성이나..)<br />
<br />
(2) 예전에 실제 가입하진 않았지만 시스템에서 표시해야 하는 사람의 데이터를 사용자 테이블에 추가할 일이 있었는데, 그런 경우는 ID가 없다보니.. ID가 PK로 되어있던 테이블에 새 인덱스를 주느랴 고생했던 적이 있다.<br />
<br />
(3) (2)번과 관련된 얘긴데, 특정 사이트에서 카카오 네이버등의 소셜 로그인을 이용해 로그인하면 사용자 명이 vnza@aiwe2345등으로 표시되는걸 볼 수 있었다. <br />
ID 대신 특정 값을 집어넣은 것 같은데, 이런 경우에는 해당 값으로 비밀번호를 찾는 등의 동작은 막아야 할 것이다. <br />
또한 게시판에서 ID가 표시되는 시스템이라면 어떤걸 표시해야 할지도 결정이 필요하다. <br />
로그인 타입을 별도로 추가해서 처리하겠지만, ID가 PK가 되는것보단 인덱스를 따로 붙이는게 훨씬 편할 거라는 생각이 든다.<br />
<br />
위 이유들로 인해 이번에도 편의상 사용자에 인덱스를 별도 부여했다.<br />
그 외에는 사용자 ID와 비밀번호 칼럼을 추가했는데, 비밀번호는 암호화/해시를 거쳐서 일정한 길이로 저장할 것이다. 50의 크기는 해시에 따라 조절될 수 있다.<br />
다음으론 이메일과 닉네임 칼럼을 추가했고, 마지막엔 관리자 여부를 추가했다. 관리자가 Y로 되어있는 사용자에게만 관리자 관련 기능이 표시될 것이다.<br />
<br />
NT_USER_INGRDNT 테이블은 사용자가 현재 가지고 있는 재료를 위한 테이블이다.<br />
NT_COCKTAIL_RECIPE처럼 차후에 기능의 확장을 위해 분량과 단위 칼럼을 미리 추가했다.<br />
<br />
<img src="/assets/img/project_00003_004.png" style="width: 40rem;" /><br />
<br />
NT_BOARD는 게시글 테이블이다.<br />
NT_BOARD_TYPE은 커뮤니티/칼럼/공지사항 등을 00,01.. 등으로 설정할 생각이다.<br />
제목,내용 칼럼이 있고 NT_BOARD_COCKTAIL은 칵테일 칼럼인데,<br />
해당 글이 어떤 칵테일에 관련된 것인지 태그를 달기 위해 만든 칼럼이다.<br />
NT_COCKTAIL_IDX를 join하여 1,7,10 의 형식으로 저장할 것이다.<br />
그 외 섬네일,등록자,등록시간을 칼럼으로 만들었다.<br />
NT_BOARD_MAIN_YN은 메인 캐러셀 등록 여부이고, NT_BOARD_DELETE_YN은 글 삭제 여부이다.<br /> 
실제 DB에서 삭제되는게 아닌 삭제여부만 변경하도록 처리했다.<br />
<br />
NT_COMMENT는 댓글 테이블이다.<br />
어떤 게시글에 달린 댓글인지와, 댓글 작성자를 포함하고 있다.<br />
칵테일정보에 달리는 댓글도 있다보니 테이블을 게시글 댓글 / 칵테일 댓글로 분리할 예정이다.<br />
<br />
이렇게 전체적인 테이블 설계가 끝났으니,<br />
화면과 테이블을 참고해서 개발을 시작해 보려고 한다.
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-08-30 14:25</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230828/project_00002';">
        <div class="post-list-subject">Project Nectarist [02] 메뉴와 화면기획</div>
        <div class="post-list-excerpt mt-1">저번에 정리했던 큰 메뉴는 다음과 같다.<br />
<br />
1) 칵테일 정보<br />
2) 칵테일 계산기<br />
3) 커뮤니티<br />
4) 칼럼<br />
5) 공지사항<br />
<br />
사이트의 목적인 칵테일 정보 찾기와 칵테일 계산하기를 우선순위가 높은 메뉴로 보고,<br />
다음으로 많이 사용할 것이라 생각되는 커뮤니티를 다음에 배치했다.<br />
칼럼과 공지사항은 필요한 사람만 보는 메뉴라고 생각해 끝부분에 배치했다.<br />
<br />
<div class="post-chapter">1. 화면 정의</div>
<br />
사용자가 있다는 점과 큰 메뉴를 토대로 발생할 수 있는 화면을 생각해보면..<br />
<br />
0-1) 메인화면<br />
0-2) 로그인화면<br />
0-3) 마이페이지/내 정보 보기<br />
0-4) 마이페이지/내 작성글 보기(+덧글)<br />
0-5) 마이페이지/내 냉장고<br />
0-6) 관리자/메인 캐러셀 설정<br />
0-7) 관리자/칼럼과 공지사항 관리<br />
0-8) 관리자/칼럼과 공지사항 등록<br />
1-1) 칵테일 목록<br />
1-2) 칵테일 상세정보<br />
2-1) 계산기 초기화면 (냉장고를 보여주고, 재료를 수정, 계산하기)<br />
2-2) 계산기 결과화면 (계산된 칵테일 목록, 추천 칵테일 목록)<br />
3-1) 게시글 목록<br />
3-2) 게시글 상세보기<br />
3-3) 게시글 작성하기<br />
4-1) 칼럼 목록<br />
4-2) 칼럼 상세보기<br />
5-1) 공지사항 목록<br />
5-2) 공지사항 상세보기<br />
6-1) 아이디 찾기<br />
6-2) 비밀번호 찾기<br />
6-3) 회원가입<br />
<br />
등이 있겠다.<br />
추가적으로 검색기능, 사용자 정보 확인, 사용자간 쪽지 기능들을 생각할 수 있겠지만<br />
우선순위가 낮은 기능이라고 생각되어 우선적인 구현에서는 제외했다.<br />
<br />
<div class="post-chapter">2. 화면 설계</div>
<br />
구체화된 화면을 화면기획서로 작성하면 다음과 같다.<br />
똑같이 동작하는 화면은 중간중간 생략했다.<br />
<img src="/assets/img/project_00002_001.JPG" style="width: 40rem;" /><br />
<span class="post-overegg">회색 대시로 된 박스는 중앙 컨텐츠 부분 구분용으로 임시추가한 것이다.</span>
<img src="/assets/img/project_00002_002.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_003.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_004.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_005.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_006.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_007.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_008.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_009.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_010.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_011.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_012.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_013.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_014.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_015.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_016.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_017.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_018.JPG" style="width: 40rem;" /><br />
(4-2번 3-2와 같아 생략)<br />
<img src="/assets/img/project_00002_019.JPG" style="width: 40rem;" /><br />
(5-2번 3-2와 같아 생략)<br />
<img src="/assets/img/project_00002_020.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_021.JPG" style="width: 40rem;" /><br />
<img src="/assets/img/project_00002_022.JPG" style="width: 40rem;" /><br />
<br />
<a href="/assets/file/230828_Nectarist_ui.pptx"><i class="fa fa-file"></i> 화면계획서 파일 </a>
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-08-28 18:58</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/jekyll/20230828/jekyll_00002';">
        <div class="post-list-subject">깃헙 블로그 시작하기 [02] 레이아웃 만들기</div>
        <div class="post-list-excerpt mt-1">저번에 대략적인 개발환경을 셋팅했으니,<br />
어떤 방향으로 블로그를 만들어 나갈지 간단하게 방향을 잡으려고 한다.<br />
<br />
<div class="post-chapter">1. 화면 기획하기</div>
<br />
내가 만들으려는 블로그의 모양은 대략적으로 다음과 같다.<br />
<img src="/assets/img/jekyll_00002_001.jpg" style="width: 45rem;" /><br />
상단에는 상단 바, 아래쪽은 컨텐츠와 사이드 바가 있고<br />
상단바/컨텐츠/사이드바가 들어가는 부분은 화면 중앙에 표시,<br />
양 옆 부분은 실제 화면 너비에 따라 늘어나도록 처리하려고 한다.<br />
<br />
상단바에는 로고와 나중에 추가될 기능들이 들어가도록 하고,<br />
사이드바는 블로그 주인 프로필과 메뉴,<br />
메인 화면은 단순히 전체 카테고리 보기가 표시되도록 할 것이다.<br />
컨텐츠 부분은 “카테고리별 포스트 목록”과 <br />
포스트 클릭시 표시되는 “포스트 내용 상세보기” 가 들어갈 예정이다.<br />
<br />
<img src="/assets/img/jekyll_00002_002.png" style="width: 40rem;" /><br />
지킬 마크다운 파일과 레이아웃의 동작 구조는 위와 같다.<br />
많은 파일들에서 반복되는 부분을 레이아웃으로 작성한 뒤,<br />
마크다운 파일에서 레이아웃을 호출하면 해당 레이아웃이 화면에 표시되고<br />
레이아웃의 특정 부분에 마크다운 파일의 내용이 들어가도록 되어있다.<br />
<br />
나는 컨텐츠 부분에 리스트 또는 포스트 내용이 들어가도록 작성할 것이므로<br />
상단바와 사이드바만 있는 레이아웃 한개만 작성해도 문제는 없겠지만..<br />
<img src="/assets/img/jekyll_00002_003.png" style="width: 40rem;" /><br />
위와 같이 매번 포스트에 제목이나 시간을 형식에 맞춰 <br />
적어줘야 하는 불편함이 있기 때문에<br />
리스트 레이아웃과 포스트 레이아웃을 따로 작성하기로 했다.<br />
<br />
레이아웃에서 공통으로 사용되는 부분은 별도 파일로 작성 후,<br />
레이아웃에서 호출하려고 한다.<br />
<br />
대략적인 코드 구성은 <br />
<br />
(1) head에서 공통 CSS 호출, 사용자 스타일 작성<br />
(2) body 상단에 상단바 작성<br />
(3) 포스트 또는 리스트 표시<br />
(4) 사이드바 <br />
(5) 기타 js 호출, 사용자 스크립트 작성<br />
<br />
위와 같이 5 단계로 될 것 같으니, 1/2/4/5번을 별도 파일로 작성할 것이다.<br />
<br />
기타 상단바나 사이드바의 자세한 배치가 기획에 들어가면 좋겠지만<br />
간단한 작성을 위해 생략하고 개발하면서 즉석으로 결정하기로 했다.<br />
추가적으로, 모바일 화면에서의 responsive 한 사용을 위해 부트스트랩을 포함할 예정이다.<br />
<br />
<div class="post-chapter">2. 레이아웃 틀 작성하기</div>
<br />
지킬 블로그 디렉토리의 root에 _layouts와 _includes 디렉토리를 생성한다.<br />
<span class="post-overegg">_layouts는 레이아웃을 위해 사용되는 디렉토리명, _includes는 호출할 조각 파일을 위해 사용되는 디렉토리명이다.</span><br />
<br />
우선 리스트 레이아웃의 틀을 다음과 같이 작성했다.<br />
/_layouts/list-current.html<br />
<div class="post-code">
    <xmp>
    <html>
        <head>
            <!-- 헤더 (link,style) -->
        </head>
        <body>
            <div>
                <!-- 상단바 -->
                <!-- 컨텐츠 -->
                <div id="container_contents">
                    <div class="blog-contents-center">
                        <div>
                            <!-- 리스트 -->
                            <div id="container_list">
                            </div>
                            <!-- 사이드바 -->
                        </div>
                    </div>
                </div>
            </div>
        </body>
        <foot>
            <!-- 푸터 (script) -->
        </foot>
    </html>
    </xmp>
</div>
<br />
blog-contents-center 클래스에는 컨텐츠를 중앙에 정렬하는 스타일을 적용하고,<br />
상단바에도 똑같이 적용해 줄 예정이다.<br />
<br />
혹시 나중에 레이아웃을 바꿀때를 대비해서<br />
현재 사용하는 레이아웃은 -current를 뒤에 붙이고,<br />
변경될때마다 이전 레이아웃의 이름을 -001, -002 등으로 변경할 것이다.<br />
<br />
이제 헤더와 푸터에 들어갈 내용을 간단하게 작성한다.<br />
/_includes/header.html<br />
<div class="post-code">
    <xmp>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- 외부 CSS 추가 -->
    <!-- 사용자 스타일 추가 -->
    <style></style>
    <title>Lizzy on Python</title>
    </xmp>
</div>
<br />
/_includes/footer.html<br />
<div class="post-code">
    <xmp>
    <!-- 사용자 스크립트 추가 -->
    <script></script>
    <!-- 외부 js 추가 -->
    </xmp>
</div>
<br />
이렇게 대략적인 레이아웃 틀과 파일 나누기가 완료되었다.<br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">jekyll</span>
            <span class="post-list-uploadtime">2023-08-28 15:27</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230827/project_00001';">
        <div class="post-list-subject">Project Nectarist [01] 프로젝트 계획,분석</div>
        <div class="post-list-excerpt mt-1">노트북을 바꾸면서 학부때부터 했던 모든 프로젝트를 잃어버린 나..<br />
이번에 건강회복 겸 쉬는동안 간단하게 몇 가지 프로젝트를 진행해서<br />
내가 쓸수있는 기술들을 좀 정리해보려고 한다.<br />
<br />
평소 취미인 칵테일을 만들때마다 지금 있는 재료로 뭘 만들수 있을까<br />
자주 고민하는데, 이 참에 가지고있는 재료를 입력하면<br />
만들수 있는 칵테일을 계산해주는 앱을 만들면 어떨까 하는 생각이 들었다.<br />
<br />
기존에 이미 비슷한 기능을 하는 안드로이드 어플들이 많지만<br />
영어 기반이기도 하고 레시피도 다양하지 않다는 문제점이 있었다.<br />
<br />
차라리 칵테일과 관련된 커뮤니티 사이트를 만들고,<br />
거기에 위 기능을 “칵테일 계산기”라는 이름으로 집어넣으면 어떨까?<br />
<img src="/assets/img/project_00001_001.png" style="width: 40rem;" /><br />
사용자별로 가지고있는 재료를 “내 냉장고”에 등록하면<br />
해당 내용을 토대로 만들수 있는 칵테일을 계산하는 기능으로 만들면<br />
매번 재료를 입력할 필요가 없을 것이다. <br />
그 다음번에 계산할때도 이미 먹어버린 재료만 몇개 빼고<br />
새로 산 재료만 넣어주면 되고,<br />
어떤 재료를 살지 고민하는 사람들을 위해 “이 재료를 사면 이런 칵테일을 만들수 있다”는<br />
추천 기능을 넣어도 좋을 것 같다.<br />
<br />
사이트 자체에서 칵테일 정보를 찾아볼수도 있고, 칵테일 정보에서는 <br />
사람들이 덧글을 달아서 레시피에 대한 의견 교환이나 팁을 나누게 할 수 있을것이다.<br />
칵테일과 관련된 칼럼을 작성하는것도 좋겠다. (칵테일 소개라거나..)<br />
술과 관련된 글과 사진을 올릴수 있는 게시판을 만들고, <br />
칵테일 커뮤니티답게 이 글과 관련된 칵테일을 선택하게 하면<br />
칵테일만 가지고 글을 검색하는 것도 가능할 것이다.<br />
<br />
위의 내용을 정리하면 다음과 같다.<br />
<br />
<ol>
  <li>칵테일과 관련된 웹사이트를 만든다.<br /> 
이 사이트는 회원 기능을 포함한다.<br /></li>
  <li>이 사이트의 메뉴는 “칵테일 칼럼” “칵테일 정보” “커뮤니티” “칵테일 계산기”<br />
등이 있다.<br /></li>
  <li>칵테일 칼럼 메뉴는 운영측에서 등록하는 게시판이다. <br />
칵테일 칼럼은 이미지가 포함된 글이다.<br />
메인 화면에 캐러셀로 새로 등록된 칼럼 섬네일을 보여준다.<br />
칵테일 칼럼에 덧글을 달 수 있다.<br /></li>
  <li>칵테일 정보 메뉴는 운영측에서 등록하는 게시판이다.<br />
칵테일 정보는 이미지, 재료, 제작방법, 기타 정보 등을 포함한다.<br />
칵테일 정보에 덧글을 달 수 있다.<br /></li>
  <li>커뮤니티 메뉴는 사용자가 등록하는 게시판이다.<br />
글은 칵테일을 태그로 가지고, 덧글을 달 수 있다.<br /></li>
  <li>칵테일 계산기 메뉴는 사용자가 가진 재료를 토대로<br />
만들수 있는 칵테일, 재료가 더 있으면 만들수 있는 칵테일을 알려준다.<br /></li>
  <li>사용자의 마이페이지에서는 사용자 정보를 수정한다.<br />
사용자-내 냉장고에서는 자기가 가지고있는 재료를 수정한다.<br />
사용자-내 작성글/댓글에서는 내가 쓴 글을 확인할 수 있다.<br />
<br />
정리한 내용을 토대로 다음에는 화면을 기획해 볼 에정이다.</li>
</ol>
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-08-27 23:06</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/python/20230826/python_00003';">
        <div class="post-list-subject">Python OJ Start Kit</div>
        <div class="post-list-excerpt mt-1"><div class="post-d-none"><br /><br /><br /></div>
파이썬을 이용해서 OJ의 알고리즘 문제들을 풀기 위해<br />
공부한 내용 중 특별히 많이 쓰이는 내용을 작성했다.<br />
<br />
<div class="post-chapter">시간 계산</div>
<br />
<div class="post-code">
    &gt; import time <br />
    &gt; <br />
    &gt; <span style="color: blue;"># 시작시간 체크</span><br />
    &gt; code_start = time.time() <br />
    &gt; <br />
    &gt; <span style="color: blue;"># 동작할 내용 여기에 추가</span><br />
    &gt; <br />
    &gt; <span style="color: blue;"># 완료시간 체크</span><br />
    &gt; code_end = time.time()<br />
    &gt; <br />
    &gt; <span style="color: blue;"># 총 실행시간 표시 (소수점 5자리까지)</span><br />
    &gt; print("실행시간: ", round(code_end - code_start, 5), "s")
</div>
<br />
<div class="post-chapter">입력</div>
<br />
🔸한 줄에 여러개의 정수를 입력받아 리스트로 저장하는 경우<br />
<br />
<div class="post-code">
    &gt; a = list(map(int, input().split()))<br />
    &gt; <span style="color: blue;"># (1) input()으로 입력받은 한 줄을 split()으로 나눈다.</span><br />
    &gt; <span style="color: blue;"># (2) map을 이용해서 (1)에서 입력받은 내용을 int로 캐스팅한다.</span><br />
    &gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">map(함수명, 반복가능 자료형)</span><br />
    &gt; <span style="color: blue;"># (3) (2)에서 작업한 내용을 list로 저장한다.</span>
</div>
<br />
🔸한 줄에 여러개의 정수를 입력받아 여러 변수에 저장하는 경우<br />
<br />
<div class="post-code">
    &gt; a, b = map(int, input().split())<br />
    &gt; <span style="color: blue;"># 입력 개수에 알맞게 변수 설정</span><br />
</div>
<br />
🔸input()보다 입력이 빠른 sys.stdin.readline()<br />
<br />
<div class="post-code">
    &gt; <span style="color: blue;"># sys 라이브러리 추가</span><br />
    &gt; import sys<br />
    &gt; <br />
    &gt; a = sys.stdin.readline().rstrip()<br />
    &gt; <span style="color: blue;"># readline 사용시 개행문자 제거를 위해 rstrip 필수</span><br />
    &gt; <span style="color: blue;"># readline에 정수를 인자로 주면 해당 글자수 만큼 입력</span><br />
</div>
<br />
Python 2.7에서 3으로 오면서 input과 readline간의 차이가 적어졌다는 것 같다.<br />
<span class="post-overegg" style="color: blue; border: 0;">출처: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiOmq7mwvqAAxUNklYBHVTwAxMQFnoECAkQAQ&amp;url=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F22623528%2Fsys-stdin-readline-and-input-which-one-is-faster-when-reading-lines-of-inpu&amp;usg=AOvVaw1wLpCxvHWwQYYsZh41ry32&amp;opi=89978449</span>
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">python</span>
            <span class="post-list-uploadtime">2023-08-26 22:40</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/python/20230824/python_00002';">
        <div class="post-list-subject">Python Coding Style (PEP8)</div>
        <div class="post-list-excerpt mt-1"><div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        들여쓰기에 4개의 스페이스를 사용하고, 탭을 사용하지 마세요.
    
</div>
<br />
<div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        한 줄에 79자가 넘어가지 않도록 하세요.
    
</div>
<br />
<div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        함수, 클래스, 함수 내 큰 코드 블록 사이에 줄을 넣어 분리하세요.
    
</div>
<br />
<div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        주석은 별도의 줄로 넣으세요.
    
</div>
<br />
<div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        독스트링(""")을 사용하세요.
    
</div>
<br />
<div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        연산자 양 옆, 콤마 뒤에 스페이스를 넣으세요.<br />
        괄호 바로 안쪽에는 스페이스를 넣지 마세요.<br />
        <span class="post-overegg" style="color: blue; border: 0;">a = f(1, 2) + g(3, 4)</span>
    
</div>
<br />
<div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        클래스는 UpperCamelCase로 네이밍하세요.<br />
        함수와 메서드는 lowercase_with_underscores로 네이밍하세요.<br />
        첫번째 메서드 인자의 이름은 항상 self를 사용하세요.
    
</div>
<br />
<div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        특별한 인코딩을 사용하지 마세요.<br />
        파이썬은 UTF-8, 다른걸 쓰면 적어도 ASCII 정도가 최선입니다.
    
</div>
<br />
<div class="d-flex">
    <span>-&nbsp;&nbsp;</span>
    
        다른사람이 읽을 가능성이 있는 코드는 식별자에 ASCII 이외의 문자를 사용하지 마세요.
    
</div>
<br />
<span class="post-overegg" style="color: blue; border: 0;">출처: https://docs.python.org/3/tutorial/controlflow.html#intermezzo-coding-style</span>
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">python</span>
            <span class="post-list-uploadtime">2023-08-24 19:59</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/python/20230823/python_00001';">
        <div class="post-list-subject">Python Cheat Sheet</div>
        <div class="post-list-excerpt mt-1"><div class="post-d-none"><br /><br /><br /></div>
<div class="post-chapter post-chapter-collapse collapsed" data-bs-toggle="collapse" href="#chapter1">
1. 연산자
<span style="float: right;"><i class="fa fa-chevron-up"></i></span>
</div>
<div id="chapter1" class="collapse">
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">산술연산자</td>
        </tr>
        <tr>
            <td>+</td>
            <td>더하기: a + b = c</td>
        </tr>
        <tr>
            <td>-</td>
            <td>빼기: a - b = c</td>
        </tr>
        <tr>
            <td>*</td>
            <td>곱하기: a * b = c</td>
        </tr>
        <tr>
            <td>**</td>
            <td>제곱: a ** b = c</td>
        </tr>
        <tr>
            <td>/</td>
            <td>나누기: a / b = c</td>
        </tr>
        <tr>
            <td>//</td>
            <td>(나눈 후)몫: a // b = c</td>
        </tr>
        <tr>
            <td>%</td>
            <td>(나눈 후)나머지: a % b = c</td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">비교연산자</td>
        </tr>
        <tr>
            <td>==</td>
            <td>양쪽 값이 같으면 참: a == b</td>
        </tr>
        <tr>
            <td>==</td>
            <td>
                양쪽 값이 다르면 참: a != b
                <div class="post-overegg" style="color: red; border: 0;">&lt;&gt;는 Python 3부터 삭제</div>
            </td>
        </tr>
        <tr>
            <td>&gt;</td>
            <td>왼쪽 값이 크면 참: a &gt; b</td>
        </tr>
        <tr>
            <td>&gt;=</td>
            <td>왼쪽 값이 크거나 같으면 참: a &gt;= b</td>
        </tr>
        <tr>
            <td>&lt;</td>
            <td>오른쪽 값이 크면 참: a &lt; b</td>
        </tr>
        <tr>
            <td>&lt;=</td>
            <td>오른쪽 값이 크거나 같으면 참: a &lt;= b</td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">대입연산자</td>
        </tr>
        <tr>
            <td>=</td>
            <td>왼쪽에 대입: a = b는 b 값을 a에 저장</td>
        </tr>
        <tr>
            <td>+=</td>
            <td>더한 뒤 대입: a += b는 a = a + b</td>
        </tr>
        <tr>
            <td>-=</td>
            <td>뺀 뒤 대입: a -= b는 a = a - b</td>
        </tr>
        <tr>
            <td>*=</td>
            <td>곱한 뒤 대입: a *= b는 a = a * b</td>
        </tr>
        <tr>
            <td>**=</td>
            <td>제곱한 뒤 대입: a **= b는 a = a ** b</td>
        </tr>
        <tr>
            <td>/=</td>
            <td>나눈 뒤 대입: a /= b는 a = a / b</td>
        </tr>
        <tr>
            <td>//=</td>
            <td>나눈 뒤 몫을 대입: a //= b는 a = a // b</td>
        </tr>
        <tr>
            <td>%=</td>
            <td>나눈 뒤 나머지를 대입: a %= b는 a = a % b</td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">논리연산자</td>
        </tr>
        <tr>
            <td>and</td>
            <td>
                둘다 참이면 참: a and b
                <div class="post-overegg" style="color: blue; border: 0;">a와 b는 논리값</div>
            </td>
        </tr>
        <tr>
            <td>or</td>
            <td>
                하나만 참이면 참: a or b
                <div class="post-overegg" style="color: blue; border: 0;">a와 b는 논리값</div>
            </td>
        </tr>
        <tr>
            <td>not</td>
            <td>
                참이면 거짓, 거짓이면 참: not a
                <div class="post-overegg" style="color: blue; border: 0;">a는 논리값</div>
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">비트연산자</td>
        </tr>
        <tr>
            <td>&amp;</td>
            <td>각 비트를 AND 연산: a &amp; b = c</td>
        </tr>
        <tr>
            <td>|</td>
            <td>각 비트를 OR 연산: a | b = c</td>
        </tr>
        <tr>
            <td>^</td>
            <td>각 비트를 XOR 연산: a ^ b = c</td>
        </tr>
        <tr>
            <td>~</td>
            <td>각 비트를 NOT 연산: ~a</td>
        </tr>
        <tr>
            <td>&lt;&lt;</td>
            <td>비트를 왼쪽으로 SHIFT 연산: a &lt;&lt; 2</td>
        </tr>
        <tr>
            <td>&gt;&gt;</td>
            <td>
                비트를 오른쪽으로 SHIFT 연산: a &gt;&gt; 2
                <div class="post-overegg" style="color: blue; border: 0;">1이 들어갈 공간이 없으면 사라짐</div>
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">멤버연산자</td>
        </tr>
        <tr>
            <td>in</td>
            <td>포함되어있으면 참: a in list</td>
        </tr>
        <tr>
            <td>not in</td>
            <td>포함되지않으면 참: a not in list</td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">아이디연산자</td>
        </tr>
        <tr>
            <td>is</td>
            <td>같은 대상이면 참: a is b</td>
        </tr>
        <tr>
            <td>is not</td>
            <td>다른 대상이면 참: a is not b</td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="3" style="background-color: #F3F3F3;">연산자 우선순위</td>
        </tr>
        <tr>
            <td>01</td>
            <td>**</td>
            <td>제곱</td>
        </tr>
        <tr>
            <td>02</td>
            <td>+, -, ~</td>
            <td>부호, 비트NOT</td>
        </tr>
        <tr>
            <td>03</td>
            <td>*, /, //, %</td>
            <td>곱하기, 나누기, 몫, 나머지</td>
        </tr>
        <tr>
            <td>04</td>
            <td>+, -</td>
            <td>더하기, 빼기</td>
        </tr>
        <tr>
            <td>05</td>
            <td>&lt;&lt; &gt;&gt;</td>
            <td>비트SHIFT</td>
        </tr>
        <tr>
            <td>06</td>
            <td>&amp;</td>
            <td>비트AND</td>
        </tr>
        <tr>
            <td>07</td>
            <td>|, ^</td>
            <td>비트OR, 비트XOR</td>
        </tr>
        <tr>
            <td>08</td>
            <td>&gt;, &gt;=, &lt;, &lt;=</td>
            <td>비교연산자</td>
        </tr>
        <tr>
            <td>09</td>
            <td>==, !=</td>
            <td>항등연산자</td>
        </tr>
        <tr>
            <td>10</td>
            <td>+=, -=, *=, **=, /=, //=, %=</td>
            <td>대입연산자</td>
        </tr>
        <tr>
            <td>11</td>
            <td>is, is not</td>
            <td>아이디연산자</td>
        </tr>
        <tr>
            <td>12</td>
            <td>in, not in</td>
            <td>멤버연산자</td>
        </tr>
        <tr>
            <td>13</td>
            <td>and, or, not</td>
            <td>논리연산자</td>
        </tr>
    </table>
</div>
<br />
<div class="post-chapter post-chapter-collapse collapsed" data-bs-toggle="collapse" href="#chapter2">
2. 자료형
<span style="float: right;"><i class="fa fa-chevron-up"></i></span>
</div>
<div id="chapter2" class="collapse">
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">숫자</td>
        </tr>
        <tr>
            <td>정수형 (Int)</td>
            <td>
                a = 3<br />
                소수점 아래 값이 없는 정수와 0<br />
                앞에 0b가 붙으면 2진수, 0o가 붙으면 8진수, 0x가 붙으면 16진수
            </td>
        </tr>
        <tr>
            <td>실수형 (Float)</td>
            <td>
                a = 12.3<br />
                소수점이 있는 숫자<br />
                정수형과는 소수점 유무로 구분<br />
                부동소수점 표현 가능 a.be+c<br />
                부동소수점은 소수점 이하 15자리까지 정확<br />
            </td>
        </tr>
        <tr>
            <td>복소수형 (Complex)</td>
            <td>
                a = 1.2j<br />
                a + bj로 표현
                a: 실수부, b: 허수부
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">문자열</td>
        </tr>
        <tr>
            <td colspan="2">
                a = "Hello World"<br />
                ', ", ''', """ 등으로 문자열을 감싸면 문자열 리터럴<br />
                ' 내부에서 '를 표현하고 싶을땐 \'로 표현<br />
                여러 줄 입력시 ''', """ 사용: 개행 인식됨<br />
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="post-code my-1">
                    &gt; str = """1<br />
                    &gt; 2<br />
                    &gt; 3"""<br />
                    &gt; <span class="post-overegg" style="color: blue; border: 0;"># str 출력시</span><br />
                    &gt; <span class="post-overegg" style="color: blue; border: 0;"># 1</span><br />
                    &gt; <span class="post-overegg" style="color: blue; border: 0;"># 2</span><br />
                    &gt; <span class="post-overegg" style="color: blue; border: 0;"># 3</span><br />
                    &gt; <span class="post-overegg" style="color: blue; border: 0;"># 으로 출력</span>
                </div>
            </td>
        </tr>
        <tr>
            <td>str1 + str2</td>
            <td>
                문자열 결합<br />
                숫자와 결합시 숫자를 문자로 캐스팅 필요
            </td>
        </tr>
        <tr>
            <td>str * int</td>
            <td>
                int 개수만큼 str 반복
            </td>
        </tr>
        <tr>
            <td>str[a]</td>
            <td>
                해당 위치에 있는 문자 리턴
            </td>
        </tr>
        <tr>
            <td>str[-a]</td>
            <td>
                뒤에서부터 역순으로 카운트, 해당 위치에 있는 문자 리턴
            </td>
        </tr>
        <tr>
            <td>str[a:b]</td>
            <td>
                a부터 b - 1까지의 문자열 리턴<br />
                a생략시 처음부터, b생략시 끝까지<br />
                둘다 생략시 전체
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">리스트</td>
        </tr>
        <tr>
            <td colspan="2">
                a = [1, 2, 3, 'b']<br />
                시퀀스형 자료구조, 어떤 자료형도 저장 가능<br />
                입력한 순서 유지됨<br />
                문자열과 같이 [a:b]로 접근 가능
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">튜플</td>
        </tr>
        <tr>
            <td colspan="2">
                a = 1, 2, 3 또는 a = (1, 2, 3)<br />
                시퀀스형 자료구조, 어떤 자료형도 저장 가능<br />
                입력한 순서 유지됨<br />
                문자열과 같이 +, * 연산 가능<br />
                문자열과 같이 [a:b]로 접근 가능<br />
                <span class="post-overegg" style="color: red; border: 0;">튜플은 요소 값 변경이나 요소 삭제가 불가능</span>
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">세트</td>
        </tr>
        <tr>
            <td colspan="2">
                a = set("Hello") set함수는 1개의 인자만 전달 가능(리스트 등)<br />
                또는 a = {1, 2, 3}<br />
                시퀀스형 자료구조, 어떤 자료형도 저장 가능<br />
                입력한 순서 유지되지 않음<br />
                중복 허용되지 않음<br />
                + 연산 불가능<br />
                [a:b]로 접근 불가능
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">딕셔너리</td>
        </tr>
        <tr>
            <td colspan="2">
                a = {'key1': 'val1', 'key2': 2}<br />
                시퀀스형 자료구조, 어떤 자료형도 저장 가능<br />
                키/값 쌍으로, 키는 변경 불가능 (문자열 또는 튜플 등) 해야함<br />
                키는 중복 불가능, 같은 키에 값을 넣으면 수정됨<br />
                + 연산 불가능<br />
                딕셔너리[키]로 접근 가능
            </td>
        </tr>
    </table>
</div>
<br />
<div class="post-chapter post-chapter-collapse collapsed" data-bs-toggle="collapse" href="#chapter3">
3. 조건문과 반복문
<span style="float: right;"><i class="fa fa-chevron-up"></i></span>
</div>
<div id="chapter3" class="collapse">
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">if-elif-else</td>
        </tr>
        <tr>
            <td>if</td>
            <td>
                반복문의 시작 부분으로, 뒤에 오는 조건이 참이면 포함된 명령을 실행시킨다.<br />
                if문 내외부는 들여쓰기로 구분한다.
            </td>
        </tr>
        <tr>
            <td>elif</td>
            <td>
                없거나 여러개의 elif문이 있을 수 있다.
            </td>
        </tr>
        <tr>
            <td>else</td>
            <td>
                선택적으로 사용된다.
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="post-code my-1">
                    &gt; if x &lt; 0:<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;print("음수");<br />
                    &gt; elif x == 0:<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;print("0");<br />
                    &gt; elif x &gt; 0 and x &lt; 1:<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;print("0~1");<br />
                    &gt; else:<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;print("1이상");<br />
                </div>
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">for</td>
        </tr>
        <tr>
            <td>for</td>
            <td>
                for 뒤에 오는 시퀀스 자료형을 하나씩 복사하여 반복한다.
            </td>
        </tr>
        <tr>
            <td>break</td>
            <td>
                가장 가까운 반복문을 종료시킨다.
            </td>
        </tr>
        <tr>
            <td>continue</td>
            <td>
                반복문의 처음으로 돌아가 조건을 비교한다.
            </td>
        </tr>
        <tr>
            <td>pass</td>
            <td>
                실행할 명령이 없는 경우 사용한다.
            </td>
        </tr>
        <tr>
            <td>else</td>
            <td>
                반복문이 break 없이 종료된 경우 실행된다.
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="post-code my-1">
                    &gt; for a in range(1, 10):<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;if a == 7:<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;else:<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass<br />
                    &gt; else:<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;prnit("for is over")<br />
                </div>
            </td>
        </tr>
    </table>
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">while</td>
        </tr>
        <tr>
            <td>while</td>
            <td>
                while 뒤에 오는 조건이 참이면 포함된 명령어를 실행한다.
            </td>
        </tr>
        <tr>
            <td>break</td>
            <td>
                가장 가까운 반복문을 종료시킨다.
            </td>
        </tr>
        <tr>
            <td>continue</td>
            <td>
                반복문의 처음으로 돌아가 조건을 비교한다.
            </td>
        </tr>
        <tr>
            <td>pass</td>
            <td>
                실행할 명령이 없는 경우 사용한다.
            </td>
        </tr>
        <tr>
            <td>else</td>
            <td>
                반복문이 break 없이 종료된 경우 실행된다.
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="post-code my-1">
                    &gt; a = 7<br />
                    &gt; while a &lt; 20:<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;print(a)<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;a += 1<br />
                </div>
            </td>
        </tr>
    </table>
</div>
<br />
<div class="post-chapter post-chapter-collapse collapsed" data-bs-toggle="collapse" href="#chapter4">
4. 함수
<span style="float: right;"><i class="fa fa-chevron-up"></i></span>
</div>
<div id="chapter4" class="collapse">
    <br />
    <table class="post-table">
        <tr>
            <td colspan="2" style="background-color: #F3F3F3;">함수 정의</td>
        </tr>
        <tr>
            <td colspan="2">
                def 예약어로 생성<br />
                함수에 포함된 명령어는 들여쓰기로 작성<br />
                매개변수에 초기값 지정 가능<br />
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="post-code my-1">
                    &gt; def factorial(n):<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;ans = 1<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;for i in range(1, n+1):<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans *= i<br />
                    &gt; &nbsp;&nbsp;&nbsp;&nbsp;return ans
                </div>
            </td>
        </tr>
    </table>
</div>
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">python</span>
            <span class="post-list-uploadtime">2023-08-23 20:48</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/jekyll/20230823/jekyll_00001';">
        <div class="post-list-subject">깃헙 블로그 시작하기 [01] 개발환경 구축</div>
        <div class="post-list-excerpt mt-1">공부한 내용을 저장하기 위해 새 github를 만들었는데,<br />
github에서 블로그 같은 기능(github pages)을 지원한다고 해서 만들어보기로 했다.<br />
윈도우 환경에서 구축을 시작! (⩌⩊⩌)<br />
<br />
<div class="post-chapter">1. github repository 생성</div>
<br />
github repository를 특수한 방법으로 만들면 해당 저장소가 바로 github page가 된다.<br />
일단 repository 생성 화면에서 저장소 이름에 {유저명}.github.io라고 적어주면 된다.<br />
<br />
<img src="/assets/img/jekyll_00001_002.png" style="width: 40rem;" /><br />
Public으로 설정하고 생성한다.<br />
<span class="post-overegg">Private은 유료 계정에서만 가능</span><br />
README는 생성해도 그만 안 해도 그만이지만 생성하는게 좀 더 깔끔한 것 같다.<br />
<br />
생성된 저장소에서 clone용 주소를 확인해준다.<br />
<img src="/assets/img/jekyll_00001_004.png" style="width: 40rem;" /><br />
<br />
<div class="post-chapter">2. jekyll 설치</div>
<br />
다음 공식문서를 따라 진행했다.<br />
https://jekyllrb-ko.github.io/docs/<br />
<br />
컴퓨터에 Ruby가 깔려있지 않아서 Ruby 다운로드부터 진행했다.<br />
다운로드 : <br />
https://rubyinstaller.org/downloads/<br />
<br />
<img src="/assets/img/jekyll_00001_001.png" style="width: 15rem;" />
<br />
마지막 단계에서 ridk도 설치해야 한다.<br />
<br />
완료되고 나면 cmd창을 열어서 다음과 같이 gem을 업데이트한다.<br />
<div class="post-code">
    &gt; gem update
</div>
<br />
gem 업데이트 후, jekyll과 bundler를 설치한다.
<div class="post-code">
    &gt; gem install jekyll bundler
</div>
<br />
<div class="post-chapter">3. 저장소 클론</div>
<br />
git이 설치되어있지 않다면 git을 깔아준다.<br />
다운로드 : <br />
https://git-scm.com/downloads<br />
<img src="/assets/img/jekyll_00001_003.png" style="width: 40rem;" /><br />
<span class="post-overegg">깃 터미널 설정은 cmd로 했다.</span><br />
<br />
이제 나의 github pages를 저장하기 적당한 디렉토리로 이동한 뒤,<br />
git 터미널을 열어 다음과 같이 적어준다.<br />
<div class="post-code">
    &gt; git clone <span style="color: red;">(아까 확인한 저장소 clone용 주소)</span>
</div>
<br />
cd를 이용해서 clone한 디렉토리 안으로 들어가 보면 다음과 같이 텅텅 비어있을것이다.
<br />
<img src="/assets/img/jekyll_00001_005.png" style="width: 15rem;" /><br />
<span class="post-overegg">해당 디렉토리가 이제 내 github pages의 root가 된다.</span><br />
root에 index.html을 하나 생성해서 내부에 테스트용 Hello World를 적어준다.<br />
<br />
아까 열어둔 git 터미널로 다시 돌아와, bundle과 jekyll을 같이 설정한다.<br />
<div class="post-code">
    &gt; bundle init<br />
    &gt; bundle add jekyll<br />
    &gt; jekyll new ./ <span style="color: red;">--force</span><br />
    &gt; bundle install
</div>
설정을 마치면 root에 _posts와 _site가 생긴다.<br />
<br />
 🔸jekyll new를 root가 아니라 별도의 폴더에 실행시키면<br />
  _config.yml이 해당 폴더에 생성되는데, 이런 경우 site 관련 변수가 안 먹힌다.<br />
<br />
이제 jekyll server를 실행시킨다.<br />
<div class="post-code">
    &gt; jekyll serve
</div>
jekyll server 실행시 변경사항이 있으면 자동으로 build 되는데,<br />
서버 실행 없이 build만 하고싶으면 jekyll build를 입력하면 된다.<br />
<br />
 🔸jekyll serve에 오류가 나는 경우 _config.yml의 plugins에 적힌 plugin이<br />
  깔려있지 않아 나는 오류가 많으니 bundle install을 진행 후 시도한다.<br />
<br />
이제 웹 브라우저를 열어 localhost:4000로 접속했을때 <br />
화면에 아까 적은 테스트용 Hello World가 표시되면 기본 구조가 생성 완료된 것이다!<br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">jekyll</span>
            <span class="post-list-uploadtime">2023-08-23 18:12</span>
        </div>
    </div>
    <hr class="post-list-border">
    
</div>
                        </div>
                        <!-- 사이드바 -->
                        <div id="container_sidebar" class="col-12 col-lg-3 my-3 py-3">
    <!-- 모바일 사이드바 클로즈 아이콘 -->
    <div id="btn_sidebar_close" class="d-block d-lg-none">
        <i class="fa-solid fa-arrow-right align-middle"></i>
    </div>
    <!-- 로고와 프로필 -->
    <div id="sidebar_profile" class="mt-2 p-2" onclick="location.href = '/category/about';">
        <div class="sidebar-profile-logo text-center" style="background-color: white;">
            <img src="/assets/img/full_logo.jpg" style="width: 3rem;"/>
        </div>
        <div class="mt-2">
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-user"></i></span>
                Lizzy Lee (이지연)
            </div>
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-envelope"></i></span>
                leezy.lee.dev@gmail.com
            </div>
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-comment"></i></span>
                파이썬 좋아😊
            </div>
        </div>
    </div>
    <!-- 카테고리 -->
    <div class="mt-2">
        <hr class="sidebar-category-border-bold">
        <div class="sidebar-category-item" data-category="all" style="color: black!important;">
            <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
            All
            <span class="sidebar-category-size">( 14 )</span>
        </div>
        <hr class="sidebar-category-border-bold">
        
            <div class="sidebar-category-item" data-category="python">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                python
                <span class="sidebar-category-size">
                    
                    ( 3 )
                    
                </span>
            </div>
        
            <div class="sidebar-category-item" data-category="algorithm">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                algorithm
                <span class="sidebar-category-size">
                    
                    ( 1 )
                    
                </span>
            </div>
        
            <div class="sidebar-category-item" data-category="jekyll">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                jekyll
                <span class="sidebar-category-size">
                    
                    ( 2 )
                    
                </span>
            </div>
        
            <div class="sidebar-category-item" data-category="project">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                project
                <span class="sidebar-category-size">
                    
                    ( 8 )
                    
                </span>
            </div>
        
        <hr class="sidebar-category-border-bold">
    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <foot>
        <!-- 푸터 (script) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/a5bdb78e74.js" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-latest.min.js" crossorigin="anonymous"></script>
<script>
    /* 사이드바 토글 */
    $("#btn_sidebar_open").click(function () {
        $("#container_sidebar").addClass("sidebar-open");
        // popstate 이벤트용 더미 스테이트
        console.log("pushstate");
        history.pushState(null, null, null);
    });
    $("#btn_sidebar_close").click(function () {
        // popstate 이벤트를 통해 닫기
        history.back();
    });
    /* 모바일 뒤로가기 이벤트시 사이드바 우선 닫기 */
    $(window).on("popstate", function(e) {
        console.log("popstate");
        if($("#container_sidebar").hasClass("sidebar-open")){
            $("#container_sidebar").removeClass("sidebar-open");
        }
    });
    /* 카테고리 */
    $("#container_sidebar .sidebar-category-item").click(function () {
        var category = $(this).attr("data-category");
        switch(category){
            case "all":
                location.href = "/";
            break;
            default:
                location.href = "/category/" + category + ".html";
            break;
        }
    });
</script>
    </foot>
</html>