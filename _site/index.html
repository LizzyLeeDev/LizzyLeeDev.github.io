<!DOCTYPE html>
<html>
    <head>
        <!-- 헤더 (link,style) -->
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Orbit&display=swap" rel="stylesheet">
<style>
    /* 전체 설정 */
    * {
        font-size: 1.2rem;
    }
    body {
        overflow-x: hidden;
    }
    hr {
        opacity: initial;
    }
    p {
        margin-bottom: 0;
    }
    /* 블로그 화면 중앙에 표시 */
    .blog-contents-center {
        width: 1000px;
        margin: 0 auto;
        height: 100%;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        .blog-contents-center {
            width: 100vw;
        }
    }
    /* 상단바 설정 */
    #container_topbar {
        position: fixed;
        top: 0;
        width: 100vw;
        height: 3rem;
        background-color: #FFFFFF;
        box-shadow: 0px 1px 20px 1px rgba(0,0,0,0.25);
        z-index: 100;
    }
    /* 하단 컨텐츠 설정 */
    #container_contents {
        margin-top: 3rem;
        width: 100vw;
        min-height: calc(100vh - 3rem);
    }
    /* 리스트 설정 */
    #container_list {
        padding-left: 0;
        padding-right: 1rem;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_list {
            padding-left: 1rem;
            padding-right: 1rem;
        }
    }
    #list {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
    }
    #list img {
        display: none;
    }
    /* 포스트 설정 */
    #container_post {
        padding-left: 0;
        padding-right: 1rem;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_post {
            padding-left: 1rem;
            padding-right: 1rem;
        }
    }
    #post {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
    }
    /* 사이드바 설정 */
    #container_sidebar {
        background-color: #FFFFFF;
        box-shadow: 1px 1px 20px 1px rgba(0,0,0,0.25);
        height: fit-content;
    }
    @media (max-width:992px){ /* 화면너비 ~lg 기준 */
        #container_sidebar {
            position: fixed;
            z-index: 200;
            top: 0;
            height: 100%;
            margin: 0!important;
            transition: transform 0.2s ease-in-out;
            transform: translateX(100%);
        }
        .sidebar-open {
            transform: translateX(0%)!important;
        }
    }
    /* 리스트에서 사용할 스타일 */
    .category-name {
        font-size: 1.4rem;
        font-family: 'Orbit', sans-serif;
        font-weight: bold;
        color: #FFA8DB;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .category-list-size {
        font-family: 'Orbit', sans-serif;
        color: #BBB;
        font-size: 0.8rem;
        justify-self: end;
        align-self: end;
    }
    .post-list-item:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .post-list-no-item {
        font-size: 1rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #666;
        text-align: center;
    }
    .post-list-border {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .post-list-subject {
        font-size: 1rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #666;
        overflow: hidden;
        max-height: 3em;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }
    .post-list-excerpt {
        font-size: 0.8rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #BBB;
        overflow: hidden;
        line-height: 1.25;
        max-height: 3.6em;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }
    .post-list-excerpt * {
        font-size: 0.8rem;
        font-family: 'Gowun Dodum', sans-serif;
        color: #BBB;
        overflow: hidden;
        line-height: 1.25;
        max-height: 3.6em;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
    }
    .post-list-footer {
        line-height: 0.8;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .post-list-footer * {
        font-size: 0.6rem;
        font-family: 'Orbit', sans-serif;
        line-height: 1;
    }
    .post-list-category {
        color: #FF6FC4;
    }
    .post-list-uploadtime {
        justify-self: flex-end;
    }
    /* 페이지 버튼에서 사용할 스타일 */
    .page-container {
        text-align: center;
    }
    .page-container .page-button {
        border: 0;
        background-color: white;
        font-size: 1rem;
        color: black;
    }
    .page-container .page-button i {
        font-size: 0.7rem;
    }
    .page-container .page-button.curpage {
        color: #FF6FC4;
        cursor: default;
    }
    .page-container .page-button.disabled {
        color: #BBB;
        cursor: default;
    }
    /* 포스트에서 사용할 스타일 */
    #post .post-d-none {
        display: none;
    }
    #post * {
        word-break: break-all;
    }
    .post-subject {
        font-size: 1.2rem;
        font-family: 'Orbit', sans-serif;
        font-weight: bold;
        color: #FFA8DB;
    }
    .post-border {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .post-subtitle {
        line-height: 0.8;
        display: grid;
        grid-template-columns: 1fr 1fr;
    }
    .post-subtitle * {
        font-size: 0.7rem;
        font-family: 'Orbit', sans-serif;
        line-height: 1;
    }
    .post-category {
        color: #FF6FC4;
    }
    .post-uploadtime {
        justify-self: flex-end;
    }
    .post-contents {
        font-family: 'Gowun Dodum', sans-serif;
    }
    .post-contents * {
        font-size: 0.9rem;
    }
    .post-contents img {
        max-width: 100%;
    }
    /* 포스트 게시글 내 문서 스타일 */
    .post-chapter {
        background-color: #FFA8DB;
        font-size: 1rem;
        font-weight: bold;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
    }
    .post-chapter-collapse {
        width: 100%;
        border: 0;  
    }
    .post-chapter-collapse:hover {
        background-color: #FF6FC4;
        cursor: pointer;
        color: white;
    }
    .post-chapter-collapse i{
        transition: transform 0.2s ease-in-out;
        transform: rotate(0deg);
    }
    .post-chapter-collapse.collapsed i{
        transform: rotate(180deg);
    }
    .post-code {
        font-family: 'Orbit', sans-serif;
        color: black;
        background-color: #F3F3F3;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        overflow-x: auto;
    }
    .post-overegg {
        font-size: 0.7rem;
        color: #AAA;
    }
    .post-table {
        width: 100%;
    }
    .post-table * {
        border: 1px solid #aaa;
        padding: 0px 0.25rem;
    }
    /* 사이드바 프로필에서 사용할 스타일 */
    #sidebar_profile {
        overflow-x: hidden;
    }
    #sidebar_profile:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .sidebar-profile-logo {
        border: 1px solid #AAA;
        padding: 4px 0px;
    }
    .sidebar-profile-item {
        font-family: 'Orbit', sans-serif;
        font-size: 0.7rem;
        white-space: nowrap;
    }
    .sidebar-profile-icon {
        min-width: 10px;
        display: inline-block;
        text-align: center;
        line-height: 0.6;
    }
    .sidebar-profile-icon i {
        color: #FF6FC4;
        font-size: 0.7rem;
    }
    /* 사이드바 카테고리에서 사용할 스타일 */
    .sidebar-category-border-bold {
        border: 1px dashed #000;
        margin: 0.25rem 0rem;
    }
    .sidebar-category-border-light {
        border: 1px dashed #BBB;
        margin: 0.5rem 0rem;
    }
    .sidebar-category-item {
        font-family: 'Gowun Dodum', sans-serif;
        font-size: 1rem;
        color: #666;
        line-height: 1.9;
        padding-left: 0.5rem;
    }
    .sidebar-category-item:hover {
        font-weight: bold;
        background-color: #F3F3F3;
        border-radius: 0.25rem;
        cursor: pointer;
    }
    .sidebar-category-size {
        font-family: 'Orbit', sans-serif;
        font-size: 0.7rem;
        color: #FF6FC4;
    }
    .sidebar-category-icon {
        min-width: 10px;
        display: inline-block;
        text-align: center;
        line-height: 0.6;
    }
    .sidebar-category-icon i {
        color: #FF6FC4;
        font-size: 0.3rem;
    }
</style>
<link rel="shortcut icon" href="/assets/img/favicon.svg"/>

<title>Lizzy on Python</title>

    </head>
    <body>
        <div>
            <!-- 상단바 -->
            <div id="container_topbar">
    <div class="blog-contents-center px-3 py-2" style="display: grid; grid-template-columns: 1fr 1fr;">
        <!-- 블로그 로고 -->
        <span>
            <img src="/assets/img/full_logo_invert.jpg" onclick="location.href = '/';" style="height: 42px; position: relative; bottom: 2px; cursor: pointer;"/>
        </span>
        <!-- PC버전 -->
        <span class="container_search d-none d-lg-block" style="justify-self: flex-end;">
            <i class="fa-solid fa-magnifying-glass align-middle"></i>
        </span>
        <!-- 모바일 사이드바 오픈 아이콘 -->
        <span id="btn_sidebar_open" class="d-block d-lg-none" style="justify-self: flex-end;">
            <i class="fa-solid fa-bars align-middle"></i>
        </span>
    </div>
</div>
            <!-- 컨텐츠 -->
            <div id="container_contents">
                <div class="blog-contents-center">
                    <div class="row m-0">
                        <!-- 리스트 -->
                        <div id="container_list" class="col-12 col-lg-9 my-3">
                            <div id="list" class="px-3 py-2">

    <!-- 포스트 카테고리명 -->
    <div class="category-name">
        All
        <span class="category-list-size">총 15건</span>
    </div>
    <hr class="post-list-border">
    <!-- 포스트 리스트 -->
    
    <div class="post-list-item px-2" onclick="location.href = '/algorithm/20240201/algorithm_00002';">
        <div class="post-list-subject">중국인의 나머지 정리</div>
        <div class="post-list-excerpt mt-1">알고리즘 문제를 풀던 중 정리해두면 좋을 것 같은 내용을 발견해<br />
오랜만에 블로그에 작성했다 (*´▽｀*）<br />
<br />
<div class="post-chapter">1. 중국인의 나머지 정리가 뭔가요</div>
<br />
<img src="/assets/img/algorithm_00002_001.png" style="width: 40rem;" /><br />
<br />
위 내용을 요약하면,<br />
<br />
<div style="margin-left: 20%">
    <span style="font-weight: bold; font-size: 1.1rem;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x ≡ 2 (mod 3)</span><span class="post-overegg" style="color: gray; border: 0;">→ x는 3으로 나누면 나머지가 2</span><br />
    <span style="font-weight: bold; font-size: 1.1rem;">and x ≡ 3 (mod 5)</span><span class="post-overegg" style="color: gray; border: 0;">→ x는 5로 나누면 나머지가 3</span><br />
    <span style="font-weight: bold; font-size: 1.1rem;">and x ≡ 2 (mod 7)</span><span class="post-overegg" style="color: gray; border: 0;">→ x는 7로 나누면 나머지가 2</span><br />
</div>
<br />
를 만족하는 x를 찾는 문제에 관한 내용이다.<br />
<br />
중국인의 나머지 정리는 위와 같은 연립 합동식의 유일한 해가 존재함을 증명하는 정리이다.<br />
(단, x ≡ a (mod m) 에서 모든 m은 쌍마다 서로소 - 위의 경우에는 3,5,7이 서로소일 것)<br />
<br />
<div class="post-chapter">2. 정리를 이용해서 문제 풀기</div>
<br />
<div style="margin-left: 20%">
    <span style="font-weight: bold; font-size: 1.1rem;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x ≡ 2 (mod 3)</span><br />
    <span style="font-weight: bold; font-size: 1.1rem;">and x ≡ 3 (mod 5)</span><br />
    <span style="font-weight: bold; font-size: 1.1rem;">and x ≡ 2 (mod 7)</span><br />
</div>
<br />
위 내용을 x ≡ a (mod m) 모양으로 정리하면,<br />
<br />
<div style="margin-left: 20%">
<span style="font-weight: bold; font-size: 1.1rem;">a₁ = 2, m₁ = 3</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">a₂ = 3, m₂ = 5</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">a₃ = 2, m₃ = 7</span><br />
</div>
<br />
로 정리할 수 있을 것이다.<br />
그리고 m₁ + m₂ + m₃ + … 을 모두 더한 값을 M으로 정의한다.<br />
<br />
<div style="margin-left: 20%">
<span style="font-weight: bold; font-size: 1.1rem;">M = 3 * 5 * 7 = 105</span><br />
</div>
<br />
다음으로 각 식마다 n = M / m 값을 구한다.<br />
<br />
<div style="margin-left: 20%">
<span style="font-weight: bold; font-size: 1.1rem;">n₁ = M / m₁ = 105 / 3 = 35</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">n₂ = M / m₂ = 105 / 5 = 21</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">n₃ = M / m₃ = 105 / 7 = 15</span><br />
</div>
<br />
다음으로 각 식마다 c = n^-1 값을 구한다.<br />
..즉, nc ≡ 1 (mod m)을 만족하는 c의 최소값을 구한다. (모듈러 역원 구하기 참고)<br />
<br />
<div style="margin-left: 20%">
(식 1)<br />
<span style="font-weight: bold; font-size: 1.1rem;">n₁c₁ ≡ 1 (mod m₁)</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">35c₁ ≡ 1 (mod 3)</span><span class="post-overegg" style="color: gray; border: 0;">→ 양변에 mod 3을 취한다.</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">2c₁ ≡ 1 (mod 3)</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">c₁ ≡ 2</span><br />
<br />
(식 2)<br />
<span style="font-weight: bold; font-size: 1.1rem;">n₂c₂ ≡ 1 (mod m₁)</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">21c₂ ≡ 1 (mod 5)</span><span class="post-overegg" style="color: gray; border: 0;">→ 양변에 mod 5을 취한다.</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">1c₂ ≡ 1 (mod 5)</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">c₂ ≡ 1</span><br />
<br />
(식 3)<br />
<span style="font-weight: bold; font-size: 1.1rem;">n₃c₃ ≡ 1 (mod m₃)</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">15c₃ ≡ 1 (mod 7)</span><span class="post-overegg" style="color: gray; border: 0;">→ 양변에 mod 7을 취한다.</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">1c₃ ≡ 1 (mod 7)</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">c₃ ≡ 1</span><br />
</div>
<br />
<br />
이제 다음 식을 통해 x를 구할 수 있다.<br />
<br />
<div style="margin-left: 20%">
<span style="font-weight: bold; font-size: 1.1rem;">x = (a₁n₁c₁ + a₂n₂c₂.. ) mod M</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">x = (2*35*2 + 3*21*1 + 2*15*1) mod 105</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">x = (140 + 63 + 30) mod 105</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">x = 233 mod 105</span><br />
<span style="font-weight: bold; font-size: 1.1rem;">x = 23</span><br />
</div>
<br />
<div class="post-chapter">참고 및 출처</div>
<br />
<span class="post-overegg" style="color: blue; border: 0;">https://ko.wikipedia.org/wiki/%EC%A4%91%EA%B5%AD%EC%9D%B8%EC%9D%98<em>%EB%82%98%EB%A8%B8%EC%A7%80</em>%EC%A0%95%EB%A6%AC</span><br />
<br />
<span class="post-overegg" style="color: blue; border: 0;">https://namu.wiki/w/%EC%A4%91%EA%B5%AD%EC%9D%B8%EC%9D%98%20%EB%82%98%EB%A8%B8%EC%A7%80%20%EC%A0%95%EB%A6%AC</span><br />
<br />
<span class="post-overegg" style="color: blue; border: 0;">https://www.youtube.com/watch?v=zOSS3fCiKzI</span><br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">algorithm</span>
            <span class="post-list-uploadtime">2024-02-01 17:19</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/algorithm/20230919/algorithm_00001';">
        <div class="post-list-subject">KMP 알고리즘</div>
        <div class="post-list-excerpt mt-1">한동안 알고리즘 책을 읽느랴 블로그에 글을 못 썼는데,<br />
한쪽 손에 화상까지 입어서 공부가 더 늦어질 것 같다 ｡ﾟ(*´□`)ﾟ｡<br />
<br />
문자열 검색에 쓰이는 알고리즘인 KMP 알고리즘에 대해 적어보려고 한다.<br />
<br />
<div class="post-chapter">1. 기본적인 문자열 검색 알고리즘</div>
<br />
문자열 “AABABABCCA”에서 “ABC”를 찾으려면 어떻게 해야할까?
문자열의 가장 앞부분부터 ABC와 한글자씩 비교해서 찾는 방법이 있을것이다.
<img src="/assets/img/algorithm_00001_004.gif" style="width: 40rem;" /><br />
위와 같이 찾는 경우 두 문자열의 길이를 곱한 만큼의 시간이 걸린다.
<img src="/assets/img/algorithm_00001_005.png" style="width: 40rem;" /><br />
AB가 계속 반복되는 것 같은데, AB와 AB의 비교도 반복할거라면 <br />
어차피 앞에 있을 AB는 건너뛰고 그 다음부터 비교하면 되지 않을까?<br />
<br />
..이렇게 검색하는 방법이 KMP 알고리즘이다.<br />
<br />
<div class="post-chapter">2. 접두사와 접미사</div>
<br />
접두사란 문자열을 0~N까지 자른 부분 문자열이다.<br />
그림으로 나타내면 다음과 같다.<br />
<img src="/assets/img/algorithm_00001_001.png" style="width: 40rem;" /><br />
반대로 접미사는 문자열을 끝에서 N개 자른 부분 문자열이다.
그림으로 나타내면 다음과 같다.
<img src="/assets/img/algorithm_00001_002.png" style="width: 40rem;" /><br />
<br />
이 중에서 접두사와 접미사가 같은 경우가 오늘 알고리즘의 핵심이다.<br />
문자열 “abacabc”에 대해 생각해보면,<br />
<br />
접두사 [“a”, “ab”, “aba”, “abac”, “abaca”, “abacab”] 등이 있다.<br />
<br />
이제 “길이가 2 이상인 접두사와 전체 문자열”에 대해 접미사를 구해보면<br />
<br />
부분문자열 “ab”에서는 [“b”] 접미사,<br />
부분문자열 “aba”에서는 [“a”, “ba”] 접미사,<br />
부분문자열 “abac”에서는 [“c”, “ac”, “bac”] 접미사,<br />
부분문자열 “abaca”에서는  [“a”, “ca”, “aca”, “baca”] 접미사,<br />
부분문자열 “abacab”에서는 [“b”, “ab”, “cab”, “acab”, “bacab”] 접미사,<br />
부분문자열 “abacabc”에서는 [“c”, “bc”, “abc”, “cabc”, “acabc”, “bacabc”] 접미사<br />
<br />
이 모든 접미사 중, 접두사와 겹쳐지는 것은 [“a”, “ab”] 가 있다.<br />
<img src="/assets/img/algorithm_00001_003.png" style="width: 40rem;" /><br />
위와 같이 문자열에서 문자열의 중간에 접두사와 같은 패턴이 얼마나 반복되는지 표를 만들 수 있다.
KMP 알고리즘은 해당 표를 이용해 동작한다.<br />
<br />
<div class="post-chapter">3. KMP 알고리즘</div>
<br />
실제로 KMP알고리즘이 동작하는 과정을 설명해봤다.<br />
<img src="/assets/img/algorithm_00001_006.png" style="width: 40rem;" /><br />
위와 같은 문자열 String에서 Search를 찾는다고 가정하자.<br />
<img src="/assets/img/algorithm_00001_007.png" style="width: 40rem;" /><br />
일단 검색할 문자열인 Search의 접두사 패턴 표를 만든다.<br />
<img src="/assets/img/algorithm_00001_008.png" style="width: 40rem;" /><br />
인덱스 0이 있다고 가정하고, Search의 인덱스를 1부터 넣는다.<br />
(0부터 하는 방법도 있지만, 이쪽이 코드 짜기엔 더 쉬운 것 같다.)<br />
<img src="/assets/img/algorithm_00001_009.png" style="width: 40rem;" /><br />
String과 Search를 각각 인덱스 0을 기준으로 비교한다.<br />
여기서, Search는 인덱스+1에 들어있는 문자와 비교한다.<br />
즉, 기준은 빨간 화살표에 있지만 Search에서 실제 비교되는 문자는 파란 화살표이다.<br />
둘다 A로 같으니 다음 인덱스로 진행한다.<br />
<img src="/assets/img/algorithm_00001_010.png" style="width: 40rem;" /><br />
둘다 B로 같으니 다음 인덱스로 진행한다.<br />
<img src="/assets/img/algorithm_00001_011.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_012.png" style="width: 40rem;" /><br />
String은 C, Search는 B로 다른 문자를 만났다.<br />
이때 Search의 인덱스인 3의 접두사 표 값(빨간 네모박스)이 1로 되어있으니 Search의 인덱스를 1로 옮긴다.<br />
<br />
위의 과정이 KMP 알고리즘의 제일 중요한 부분이다.<br />
위 과정을 풀어서 설명하면 다음과 같다.<br />
<img src="/assets/img/algorithm_00001_013.png" style="width: 40rem;" /><br />
인덱스를 옮겼으니 다시 비교한다.
<img src="/assets/img/algorithm_00001_014.png" style="width: 40rem;" /><br />
String은 C, Search는 B로 다르다.<br />
Search의 인덱스인 1의 접두사 표 값(빨간 네모박스)이 0으로 되어있으니 Search의 인덱스를 0으로 옮긴다.
<img src="/assets/img/algorithm_00001_015.png" style="width: 40rem;" /><br />
String은 C, Search는 A로 다르다.<br />
Search의 인덱스가 0으로 더이상 옮길수 있는 방법이 없으니, String의 인덱스만 전진한다.
<img src="/assets/img/algorithm_00001_016.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_017.png" style="width: 40rem;" /><br />
둘다 B로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_018.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_019.png" style="width: 40rem;" /><br />
또 String은 C, Search는 로 다르다.<br />
아까 진행했던 것처럼 Search의 인덱스를 1로 옮겨준다.
<img src="/assets/img/algorithm_00001_020.png" style="width: 40rem;" /><br />
String은 C, Search는 B로 다르다.<br />
Search의 인덱스를 0으로 옮긴다.
<img src="/assets/img/algorithm_00001_021.png" style="width: 40rem;" /><br />
String은 C, Search는 A로 다르다.<br />
Search의 인덱스가 0이므로 String의 인덱스만 전진한다.
<img src="/assets/img/algorithm_00001_022.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_022.png" style="width: 40rem;" /><br />
String은 A, Search는 B로 다르다.<br />
Search의 인덱스를 0으로 옮긴다.
<img src="/assets/img/algorithm_00001_023.png" style="width: 40rem;" /><br />
둘다 A로 같으니 다음 인덱스로 진행한다.
<img src="/assets/img/algorithm_00001_024.png" style="width: 40rem;" /><br />
뒷부분을 진행하면 ABABC로 같을것이므로 생략한다.<br />
<br />
접두사 표를 통해 Search의 인덱스를 앞부분으로 옮기는 행위가 중복 부분을 뛰어넘는 역할을 하는 것을 알 수 있다.<br />
String과 Search가 같지 않으면 String의 인덱스를 고정한 상태로 중복을 뛰어넘으면서 1~2번정도 비교하기 때문에 수행 시간은 String의 길이에 가까울 것이다.<br />
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">algorithm</span>
            <span class="post-list-uploadtime">2023-09-19 19:32</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230906/project_00008';">
        <div class="post-list-subject">Project Nectarist [08] 중간 결과</div>
        <div class="post-list-excerpt mt-1">8월 28일부터 부랴부랴 개발을 시작한 Nectarist..좋은 사이드프로젝트를 만들기 위해 열심히 했지만,<br /> 
테스트 준비와 병행하는게 쉽진 않았다 ๛(ｰωｰ˘)<br />
거의 다 완료되긴 했지만 다른 중요한 시험이 있으니 일단 중간 결과를 정리해보기로 했다.<br />
<br />
<div class="post-chapter">1. 프로젝트에서 의미가 있던 부분</div>
<br />
<ul>
    <li>
        <b>docker를 사용한 개발환경 설정</b><br />
        <br />
        처음 이미지를 만들땐 분리된 개발환경이 생겨서 좋았다.<br />
        이번 기회에 alpine이나 slim이미지는 apt등이 기본적으로 깔리지 않았다는<br />
        귀중한 경험을 했으니 다음번 이미지 선택에 참고할 수 있을것이다.<br />
        <br />
        컨테이너 관리하는 부분은 아주 원활하지는 않았다.<br />
        환경이 바뀔때마다 이미지를 중간중간 저장해줘야 하는게 약간 번거로웠다.<br />
        하지만 배포할때는 엄청나게 편했다.<br />
        <br />
        아마 docker에 좀더 익숙해지면 docker commit의 수가 줄어들고<br />
        장점만 활용할수 있을 것으로 기대된다.<br />
        쿠버네티스도 한번 공부해봐야겠다.<br />
    </li>
    <li class="mt-3">
        <b>django는 python과 다르다</b><br />
        <br />
        django의 template에서는 굉장히 제한적으로만 변수를 다룰 수 있다는 걸 (몸으로) 깨달았다.<br />
        대부분의 데이터를 views.py에서만 처리한 다음 template로 보냈다.<br />
    </li>
    <li class="mt-3">
        <b>django와 post, csrf</b><br />
        <br />
        Nectarist의 대부분의 요청은 사용자의 눈에 보이지 않기 때문에 GET으로 처리했지만,<br />
        칵테일계산기에서 계산 후 화면만은 예외라서 POST 형식으로 작업을 했다.<br />
        post 형식으로 요청을 보냈더니 django는 csrf 문제로 post를 받을 수 없다는 얘기가 나왔다.<br />
        (csrf는 사용자가 잘못된 요청을 서버에게 보내도록 하는 공격으로 알고있다.)<br />
        csrf token을 추가하면 된다고 해서 토큰을 추가했다.<br />
        <img src="/assets/img/project_00008_001.png" style="width: 40rem;" /><br />
        <br />
        그럼에도 403이 돌아오길래 구글링해보니, @csrf_exempt를 적용하면 csrf 보호에서 예외가 된다고 해서<br />
        <img src="/assets/img/project_00008_002.png" style="width: 40rem;" /><br />
        적용하니 아주 잘 동작했다.
    </li>
    <li class="mt-3">
        <b>django의 ORM</b><br />
        <br />
        PHP를 할땐 SQL만 쓰다가 이번에 ORM을 처음 써봤는데, 데이터를 오브젝트로 바로 꺼낼수 있는 점이 정말 좋았다.<br />
        select_related를 이용하거나, 간단하게 조건을 주는 정도로 경험했다.<br />
        다만 복잡한 구조의 데이터는 어떻게 다루면 좋은지? 혹은 테이블 설계 레벨에서 해결할수 있는지? 의문점이 들었다.<br />
        <br />
        <img src="/assets/img/project_00008_003.png" style="width: 40rem;" /><br />
        위 그림은 일할때 짰던 하나의 SQL문을 캡쳐한 것인데, (모양만 캡쳐)<br />
        가져오는 내용도 많고 JOIN도 많고 UNION도 있어서 꽤 복잡했다.<br />
        다음번 프로젝트는 크고 정교하게 해서 ORM을 꼭 극한까지 사용해보려고 한다.<br />
        <span class="post-overegg" style="color: blue; border: 0;">
            저때는 무조건 한번에 모든 데이터를 가져오는게 효율이 좋은걸로만 생각했는데,<br />
            너무 오래 걸리면 여러번에 나눠서 가져온다음 붙이는 게 훨씬 좋다는 걸 나중에 깨달았다.
        </span>
    </li>
    <li class="mt-3">
        <b>django의 authentification을 경험하지 못하다</b><br />
        <br />
        다른 프로젝트들을 보면 django에서 지원하는 authentification을 사용하던데,<br />
        나는 관리자를 일반 사용자와 같이 취급/ 일반 사용자중에서 관리자를 뽑기 위해서<br />
        별도로 authentification을 사용하지 않았다.<br />
        <br />
        <img src="/assets/img/project_00008_004.png" style="width: 40rem;" /><br />
        그냥 session에 넣고<br />
        <img src="/assets/img/project_00008_005.png" style="width: 40rem;" /><br />
        그냥 session을 풀어버렸다<br />
        <br />
        authentification이 어떤 역할과 기능이 있는지 좀더 공부가 필요하다.
    </li>
    <li class="mt-3">
        <b>급하게 작업하면 코드가 더러워진다</b><br />
        <br />
        급하게 작업하느랴 views.py / css class / html id 등이 전부 중구난방인데,<br />
        명명규칙을 잡아놓고 하지 않으면 복잡해지는 것 같다. 다음번엔 꼭 미리 정해놓고 해야겠다..<br />
    </li>
</ul>
<div class="post-chapter">2. 중간점검 결론</div>
<br />
지금까지 프로젝트에서 얻은 것은 다음과 같다.<br />
<br />
<ul>
    <li><b>docker</b> : 이미지를 만들고, 커밋하고, docker-compose를 통해 django에 다른 컨테이너를 연결하는 것</li><br />
    <li><b>django</b> : urls.py - views.py - models.py 각 파일의 간단한 활용법, csrf를 벗어나는 방법, 서버에 파일 올리기</li><br />
    <li><b>기타</b> : django MTV와 MVC 패턴의 비교</li><br />
</ul>
<div class="post-chapter">3. 앞으로 추가할 기능</div>
<br />
<ul>
    <li>
        <b>패스워드 찾기 할때 메일 발송하는 기능</b><br />
        <br />
        linux의 sendmail을 사용하려고 하는데, 단순히 sendmail만 설치한다고 메일을 보낼수 있을지..
        별도로 메일을 전송해주는 서버가 있어야 하는게 아닌지 좀더 공부가 필요하다.
    </li>
    <li class="mt-3">
        <b>글 쓸때 에디터에 그림을 넣으면 그림도 같이 저장하는 기능</b><br />
        <br />
        에디터에 이벤트를 걸어서 이미지가 들어왔을때 해당 이미지를 임시파일로 저장 후
        에디터 내 이미지를 서버에 있는 임시파일로 바꿔주면 될 것 같다.
        어떤 이벤트를 걸지/이미지 붙여넣기할때 임시파일이 어디 저장될지 지식이 필요하다.
    </li>
    <li class="mt-3">
        <b>반응형 웹으로 모바일 버전 지원하기</b><br />
        <br />
        이거는 원래 염두에 두던 작업이라 bootstrap의 row-col을 이용해 이미 일부 적용해놨다.
        디테일한 부분을 조절하면 될 것 같다.
    </li>
    <li class="mt-3">
        <b>검색 기능, 사용자 정보 저장</b><br />
        <br />
        9월 10일 전에 마감하다보니 빠트린 기능들인데, 큰 이슈없이 적용 가능할것으로 생각하고 있다.
    </li>
</ul>
<div class="post-chapter">4. 중간 정리를 마치며</div>
<br />
django에 적응하려고 진행한 프로젝트로, 기본기에는 적응했다는 생각이 든다.<br />
그렇지만 깊게 사용해봤다는 생각이 들지 않는다… <br />
발전을 위해 django의 공식 문서를 좀더 읽어볼 필요가 있을 것 같다.<br />
<br />
docker는 하나의 컨테이너가 하나의 기능을 타겟으로 한다는 느낌을 강하게 받았다.<br />
MSA 구조를 적용한다면 이 docker가 참 필요하겠구나 싶은데,<br />
과연 컨테이너를 어떻게 분리하는게 좋은 구조인지에 대해서 감이 아직 안 잡힌다.<br />
나처럼 django+uwsgi+nginx를 하나의 컨테이너에 밀어넣는것과 각각 하나의 컨테이너를 쓰는 것 사이에 어떤 차이점과 장단점이 있는걸까?
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-09-06 16:42</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230906/project_00007';">
        <div class="post-list-subject">Project Nectarist [07] 구글 클라우드에 올리기</div>
        <div class="post-list-excerpt mt-1">구글 클라우드에 작은 인스턴스는 무료로 사용할수 있게 해주는 정책이 있다.<br />
<br />
링크: <a href="https://cloud.google.com/free?hl=ko">무료 체험판 및 무료 등급</a>
<img src="/assets/img/project_00007_001.png" style="width: 40rem;" /><br />
고맙습니다…구글<br />
<br />
해당 무료 인스턴스 정책을 이용해 Nectarist를 누구나 확인할 수 있도록 업로드하려고 한다.<br />
<br />
<div class="post-chapter">1. 인스턴스 만들기</div>
<br />
일단 구글 클라우드에 접속한다.<br />
<img src="/assets/img/project_00007_003.png" style="width: 40rem;" /><br />
<br />
기본적인 결제 등록 및 가입을 마치고 나면 기본 프로젝트가 있고, 프로젝트에 위와 같이 기본 대시보드가 표시된다.<br />
왼쪽의 Compute Engine - VM 인스턴스 - 인스턴스 만들기로 이동한다.<br />
<br />
<img src="/assets/img/project_00007_002.png" style="width: 40rem;" /><br />
구체적인 무료 인스턴스 조건은 위와 같으니, 조건에 맞춰서 인스턴스를 생성한다.
<img src="/assets/img/project_00007_004.png" style="width: 40rem;" /><br />
<img src="/assets/img/project_00007_005.png" style="width: 40rem;" /><br />
그리고 방화벽 설정에서 HTTP와 HTTPS를 허용하면 완료된다.<br />
<br />
<div class="post-chapter">2. VM 인스턴스 접속하기</div>
<br />
VM 인스턴스에 SSH로 접속할수 있게 하려면 키를 생성해야 한다.<br />
PuttyGen으로 키를 생성했다.<br />
링크: <a href="https://www.puttygen.com/">PuttyGen</a><br />
<br />
<img src="/assets/img/project_00007_006.png" style="width: 40rem;" /><br />
Generate를 눌러 키를 생성 후, Save public / Save Private / 위의 Conversions에서 Export openSSH Key 를 해준다.<br />
세가지 키를 각각 적당한 이름으로 저장한 다음 <br />
<br />
<img src="/assets/img/project_00007_007.png" style="width: 40rem;" /><br />
위 칸에 있는 키를 긁고 (Key Comment에 있는 내용이 openSSH Username이 된다.)<br />
<br />
<img src="/assets/img/project_00007_008.png" style="width: 40rem;" /><br />
메타데이터 - SSH 키에 등록한다.<br />
<br />
이제 각 방법을 사용해서 접속할 수 있게 되었는데, <br />
<br />
ssh, mysql workbench: openSSH 키로 접속<br />
<img src="/assets/img/project_00007_009.png" style="width: 40rem;" /><br />
<br />
filezilla: private key로 접속<br />
<img src="/assets/img/project_00007_010.png" style="width: 40rem;" /><br />
이제 ssh와 filezilla를 사용할수 있으니 개발에서 사용하던 도커 이미지를 서버로 올려서 컨테이너를 열어준다.<br />
volume에 들어있던 파일도 같이 옮겨주면 완료된다.<br />
<br />
<img src="/assets/img/project_00007_011.png" style="width: 40rem;" /><br />
외부 IP로 접속해보니 다행히 잘 동작한다!
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-09-06 16:42</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <div class="post-list-item px-2" onclick="location.href = '/project/20230902/project_00006';">
        <div class="post-list-subject">Project Nectarist [06] DB 연동과 models.py</div>
        <div class="post-list-excerpt mt-1"><div class="post-d-none"><br /><br /><br /></div>
<br />
<div class="post-chapter">1. 컨테이너 간 연동</div>
<br />
<br />
DB연동 및 컨테이너 연결을 위해 docker-compose.yml을 수정하였다.<br />
<br />
<div class="post-code">
version: "3.7"<br />
<br />
services:<br />
&nbsp;&nbsp;app: <br />
&nbsp;&nbsp;&nbsp;&nbsp;image: nectarist/nginx-django:2.2.2<br />
&nbsp;&nbsp;&nbsp;&nbsp;ports:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 80:80<br />
&nbsp;&nbsp;&nbsp;&nbsp;volumes:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ./nectarist_web:/usr/nectarist/nectarist_web<br />
&nbsp;&nbsp;&nbsp;&nbsp;container_name: nectarist_web<br />
<br />
&nbsp;&nbsp;mysql:<br />
&nbsp;&nbsp;&nbsp;&nbsp;image: nectarist/mysql:1.0.0<br />
&nbsp;&nbsp;&nbsp;&nbsp;ports:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 3306:3306<br />
&nbsp;&nbsp;&nbsp;&nbsp;env_file:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ./nectarist.env<br />    
&nbsp;&nbsp;&nbsp;&nbsp;volumes:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- ./nectarist_db:/var/lib/mysql
&nbsp;&nbsp;&nbsp;&nbsp;container_name: nectarist_db<br />
</div>
<br />
하단의 mysql:부분을 추가했는데, 이미지와 연결 포트를 설정했다.<br />
/var/lib/mysql 폴더를 볼륨에 추가했다.<br />
app(django)과 mysql부분에 각각 container_name도 선언했다.<br />
<br />
env_file은 DB관련 변수로, nectarist.env에 따로 저장했다.<br />
<br />
<div class="post-code">
MYSQL_DATABASE: nectarist<br />
MYSQL_ROOT_PASSWORD=nectaristpass
</div>
<br />
<br />
이제 nectarist-web 컨테이너에 ping을 설치후,<br />
외부 터미널에서 docker exec nectarist_web ping nectarist_db 을 통해 <br />
두 컨테이너 간 연결이 가능한지 확인했다.<br />
<img src="/assets/img/project_00006_001.png" style="width: 40rem;" /><br />
핑이 잘 통하는거 보니 컨테이너간 연결은 원활하다.<br />
<br />
nectarist-web은 settings.py의 DATABASES 부분을 다음과 같이 수정해준다.<br />
<br />
<div class="post-code">
DATABASES = {<br />
&nbsp;&nbsp;'default': {<br />
&nbsp;&nbsp;&nbsp;&nbsp;'ENGINE': 'django.db.backends.mysql',<br />
&nbsp;&nbsp;&nbsp;&nbsp;'NAME': "nectarist", #DB명<br />
&nbsp;&nbsp;&nbsp;&nbsp;"USER": "root", #로그인 아이디<br />
&nbsp;&nbsp;&nbsp;&nbsp;"PASSWORD": "nectaristpass", #로그인 패스워드<br />
&nbsp;&nbsp;&nbsp;&nbsp;"HOST": "nectarist_db", #db 컨테이너명<br />
&nbsp;&nbsp;&nbsp;&nbsp;"PORT": "3306"<br />
&nbsp;&nbsp;}<br />
}
</div>
<br />
그리고 mysql 연결을 위해 mysqlclient를 설치한다.
<div class="post-code">
&gt; pip install mysqlclient
</div>
이제 nectarist-web도 이미지를 커밋해 준다.<br />
<br />
이제 docker-compose up으로 두개의 컨테이너를 불러온 다음<br />
둘다 정상적으로 구동이 되면 db컨테이너와 웹 컨테이너 실행이 완료되었다.<br />
<br />
<span class="post-overegg" style="color: blue; border: 0;">
안되는 경우 db쪽 볼륨 폴더 삭제 + docker volume prune 후 다시 시도해보면 좋다.
</span><br />
<br />
<div class="post-chapter">2. inspectdb로 만들었어요</div>
<span style="color: red;">꼭 3번 챕터도 같이 읽으시길 권합니다..</span><br /><br />
mysql을 간편하게 다루기 위해 sqlyog를 설치했다.
<img src="/assets/img/project_00006_002.png" style="width: 40rem;" /><br />
<br />
sqlyog로 접속한 후, 데이터베이스에 테스트용으로 NT_USER 테이블을 추가했다.<br />
<br />
이제 nectarist_web에서 다음 명령어를 실행한다.<br />
<div class="post-code">
&gt; python manage_py inspectdb
</div>
<br />
<img src="/assets/img/project_00006_003.png" style="width: 40rem;" /><br />
<br />
방금 생성한 테이블이 models.py에 적용할 수 있는 모양으로 변경되어 나온다.<br />
테이블을 다 만든 뒤 해당 내용을 models.py에 복사-붙여넣기 해주면 된다.<br />
<br />
<span class="post-overegg" style="color: blue; border: 0;">
안되는 경우 settings.py의 INSTALLED_APPS에 현재 앱이 있는지 확인한다.
</span><br />
<br />
이제 views 에서 데이터를 불러오기 위해 최상단에 models.py의 내용을 import 시킨다.<br />
views.py의 최상단에 추가 :<br />
<div class="post-code">
&gt; from .models import *
</div>
<br />
views.py의 “칵테일정보”메뉴 목록을 DB와 연동하려면 <br />
해당 메뉴 템플릿을 불러오는 함수에서 모델을 통해 데이터를 가져온다음 넘겨준다.<br />
<div class="post-code">
def cocktailinfo(request):<br />
&nbsp;&nbsp;# menu list data<br />
&nbsp;&nbsp;#nt_cocktail_idx 역순으로 데이터 불러오기<br />
&nbsp;&nbsp;list_data = NtCocktail.objects.order_by('-nt_cocktail_idx')<br />
&nbsp;&nbsp;context.update({"list_data": list_data})<br />
<br />
&nbsp;&nbsp;return render(request, 'sites/cocktailinfo.html', context)<br />
</div>
테이블 클래스.objects.order_by(순서 기준)를 통해 데이터를 불러온다음<br />
넘겨받은 템플릿에서 다음과 같이 목록으로 처리한다.<br />
<br />
<img src="/assets/img/project_00006_004.png" style="width: 40rem;" /><br />
<img src="/assets/img/project_00006_005.png" style="width: 40rem;" /><br />
목록이 DB와 연동 완료되었다.
<br />
<br />
<div class="post-chapter">3. 다들 models.py로 만든다</div>
<br />
sqlyog에서 직접 테이블을 만든 뒤 inspectDB로 테이블을 붙여 넣으면서<br />
테이블이 간단해서 참 다행이고 django에도 바로 적용되는게 좋다고 생각했으나..<br />
<br />
알고보니 django는 models.py를 입력하고 makemigrations/migrate를 하면<br />
알아서 테이블을 만들어주는 장점이 있었다.<br />
<br />
2번같은 방법을 사용한 뒤 다른곳에서 DB컨테이너를 올릴때 잘 적어놓은 models.py를 아무리 마이그레이션 해도 테이블이 생기지 않는 문제가 발생할 수 있다.<br />
<br />
이때 다음과 같이 해결할 수 있다.<br />
<img src="/assets/img/project_00006_006.png" style="width: 40rem;" /><br />
DB 구조를 sql 덤프로 백업한다.<br />
<br />
<img src="/assets/img/project_00006_007.png" style="width: 40rem;" /><br />
해당 sql dump를 테이블이 필요한 서버에서 실행시킨다.<br />
테이블이 생기고 마법처럼 동작이 잘 됐다.
</div>
        <div class="post-list-footer mt-2 py-1">
            <span class="post-list-category">project</span>
            <span class="post-list-uploadtime">2023-09-02 17:04</span>
        </div>
    </div>
    <hr class="post-list-border">
    
    <!-- 페이징 디자인 -->
    <div class="my-3">
        
        <div class="page-container">
            <!-- 이전 -->
            
            <button class="page-button disabled">
                <i class="fa fa-chevron-left"></i>
            </button>
            
            <!-- 페이지 -->
            
                
                <button class="page-button curpage">1</button>
                
            
                
                <button class="page-button" onclick="location.href = '/posts/page/2';">2</button>
                
            
                
                <button class="page-button" onclick="location.href = '/posts/page/3';">3</button>
                
            
            <!-- 다음 -->
            
            <button class="page-button" onclick="location.href = '/posts/page/2';">
                <i class="fa fa-chevron-right"></i>
            </button>
            
        </div>
        
    </div>
</div>
                        </div>
                        <!-- 사이드바 -->
                        <div id="container_sidebar" class="col-12 col-lg-3 my-3 py-3">
    <!-- 모바일 사이드바 클로즈 아이콘 -->
    <div id="btn_sidebar_close" class="d-block d-lg-none">
        <i class="fa-solid fa-arrow-right align-middle"></i>
    </div>
    <!-- 로고와 프로필 -->
    <div id="sidebar_profile" class="mt-2 p-2" onclick="location.href = '/category/about';">
        <div class="sidebar-profile-logo text-center" style="background-color: white;">
            <img src="/assets/img/full_logo.jpg" style="width: 3rem;"/>
        </div>
        <div class="mt-2">
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-user"></i></span>
                Lizzy Lee (이지연)
            </div>
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-envelope"></i></span>
                leezy.lee.dev@gmail.com
            </div>
            <div class="sidebar-profile-item">
                <span class="sidebar-profile-icon "><i class="fa fa-comment"></i></span>
                취직해야해 ̗̀(ꀬ⏖ꀬ∴)
            </div>
        </div>
    </div>
    <!-- 카테고리 -->
    <div class="mt-2">
        <hr class="sidebar-category-border-bold">
        <div class="sidebar-category-item" data-category="all" style="color: black!important;">
            <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
            All
            <span class="sidebar-category-size">( 15 )</span>
        </div>
        <hr class="sidebar-category-border-bold">
        
            <div class="sidebar-category-item" data-category="python">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                python
                <span class="sidebar-category-size">
                    
                    ( 3 )
                    
                </span>
            </div>
        
            <div class="sidebar-category-item" data-category="algorithm">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                algorithm
                <span class="sidebar-category-size">
                    
                    ( 2 )
                    
                </span>
            </div>
        
            <div class="sidebar-category-item" data-category="jekyll">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                jekyll
                <span class="sidebar-category-size">
                    
                    ( 2 )
                    
                </span>
            </div>
        
            <div class="sidebar-category-item" data-category="project">
                <span class="sidebar-category-icon"><i class="fa fa-asterisk"></i></span>
                project
                <span class="sidebar-category-size">
                    
                    ( 8 )
                    
                </span>
            </div>
        
        <hr class="sidebar-category-border-bold">
    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <foot>
        <!-- 푸터 (script) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/a5bdb78e74.js" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-latest.min.js" crossorigin="anonymous"></script>
<script>
    /* 사이드바 토글 */
    $("#btn_sidebar_open").click(function () {
        $("#container_sidebar").addClass("sidebar-open");
        // popstate 이벤트용 더미 스테이트
        console.log("pushstate");
        history.pushState(null, null, null);
    });
    $("#btn_sidebar_close").click(function () {
        // popstate 이벤트를 통해 닫기
        history.back();
    });
    /* 모바일 뒤로가기 이벤트시 사이드바 우선 닫기 */
    $(window).on("popstate", function(e) {
        console.log("popstate");
        if($("#container_sidebar").hasClass("sidebar-open")){
            $("#container_sidebar").removeClass("sidebar-open");
        }
    });
    /* 카테고리 */
    $("#container_sidebar .sidebar-category-item").click(function () {
        var category = $(this).attr("data-category");
        switch(category){
            case "all":
                location.href = "/";
            break;
            default:
                location.href = "/category/" + category + ".html";
            break;
        }
    });
</script>
    </foot>
</html>